(this["webpackJsonpworkout-app-react"]=this["webpackJsonpworkout-app-react"]||[]).push([[0],Array(40).concat([function(e,t,a){e.exports=a(109)},,,,,function(e,t,a){},,function(e,t,a){},,,,,,,,,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(13),i=a.n(c),s=(a(45),a(46),a(47),a(31),a(49),a(4)),l=a(3),m=a.n(l),u=a(34),o=a.n(u),d=a(6),f=(a(59),function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],i={signInFlow:"popup",signInOptions:[m.a.auth.GoogleAuthProvider.PROVIDER_ID,m.a.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return c(!0),!1}}};return r.a.createElement("main",{className:"login"},a?r.a.createElement(d.a,{to:"/"}):r.a.createElement(o.a,{uiConfig:i,firebaseAuth:m.a.auth()}))}),b=(a(64),function(){return r.a.createElement("div",{className:"root"},r.a.createElement("div",{className:"root__div"}))}),E=(a(65),function(e){var t=e.onClick,a=e.hamburgerActive;return r.a.createElement("div",{className:"hamburger",onClick:t},r.a.createElement("div",{className:"hamburger__box"},r.a.createElement("div",{ref:a,className:"hamburger__inner inner"},r.a.createElement("div",{className:"inner__before"}),r.a.createElement("div",{className:"inner__after"}))))}),g=(a(66),a(5)),_=(a(67),function(e){var t=e.handleHamburger,a=Object(n.useContext)(F).currentUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navigation"},r.a.createElement("ul",{className:"navigation__ul"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"navigation__li"},r.a.createElement(g.b,{onClick:t,to:"/trainings",className:"navigation__a"},"Treningi")),r.a.createElement("li",{className:"navigation__li"},r.a.createElement(g.b,{onClick:t,to:"/statistics",className:"navigation__a"},"Statystyki")),r.a.createElement("li",{className:"navigation__li"},r.a.createElement(g.b,{onClick:t,to:"/measurement",className:"navigation__a"},"Pomiary")),r.a.createElement("li",{className:"navigation__li"},r.a.createElement(g.b,{onClick:t,to:"/diet",className:"navigation__a"},"Dieta")),r.a.createElement("li",{className:"navigation__li"},r.a.createElement(g.b,{onClick:t,to:"/settings",className:"navigation__a"},"Ustawienia")),r.a.createElement("li",{className:"navigation__li navigation__logout"},r.a.createElement("a",{onClick:function(){t(),m.a.auth().signOut().then((function(){}),(function(e){}))},href:"/workout-app-react",className:"navigation__a"},"Wyloguj"))):r.a.createElement("li",{className:"navigation__li navigation__login"},r.a.createElement(g.b,{onClick:t,className:"navigation__a",to:"/login"},"Zaloguj si\u0119")))))}),v=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{ref:e,className:"header"},r.a.createElement("h1",{className:"header__logo"},r.a.createElement(g.b,{to:"/",className:"header__link"},"TO DO WORKOUT")),r.a.createElement("div",{className:"header__hamburger"},r.a.createElement(E,{onClick:function(){var a,n;null===(a=t.current)||void 0===a||a.classList.toggle("is-active-hamburger"),null===(n=e.current)||void 0===n||n.classList.toggle("header--active")},hamburgerActive:t})),r.a.createElement("div",{className:"header__links"},r.a.createElement(_,{handleHamburger:function(){var a,n;null===(a=t.current)||void 0===a||a.classList.remove("is-active-hamburger"),null===(n=e.current)||void 0===n||n.classList.remove("header--active")}}))))},p=a(39),h=function(e){var t=e.component,a=Object(p.a)(e,["component"]),c=Object(n.useContext)(F).currentUser;return r.a.createElement(d.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/"})}}))},N=a(16),j=(a(68),function(e){var t=e.formFields,a=t.fields,n=t.button,c=e.handleSubmit;return r.a.createElement(N.b,{onSubmit:c},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:"form"},a.map((function(e){return r.a.createElement(N.a,{key:e.name,name:e.name,validate:e.validate,defaultValue:e.initialValue,parse:e.parse},(function(t){var a=t.input,n=t.meta;return r.a.createElement("div",{className:"form__wrapper"},r.a.createElement("label",null,e.text),"textarea"===e.component?r.a.createElement("textarea",Object.assign({className:"form__textarea"},a,{type:"text",placeholder:"Description"})):r.a.createElement("input",Object.assign({className:"form__input"},a,{type:e.type,step:e.step?e.step:void 0,min:e.min?e.min:void 0,max:e.max?e.max:void 0,placeholder:e.placeholder})),n.error&&n.touched&&r.a.createElement("span",{className:"form__span"},n.error))}))})),r.a.createElement("button",{variant:n.variant,type:n.type,className:"form__button"},n.text))}))}),y=(a(69),function(e){var t=e.onClick,a=e.children;return r.a.createElement("button",{onClick:t,className:"button"},a)}),O=(a(70),a(15)),k=function(){var e=Object(d.g)();return r.a.createElement("div",{className:"arrow"},r.a.createElement(y,{onClick:function(){e.goBack()}},r.a.createElement(O.a,null)))},x=a(36),w=m.a.initializeApp({apiKey:"AIzaSyAkx7U5xHRytqTxEvWcAeBafAnn0RxvCGE",authDomain:"workout-app-react.firebaseapp.com",databaseURL:"https://workout-app-react.firebaseio.com",projectId:"workout-app-react",storageBucket:"workout-app-react.appspot.com",messagingSenderId:"525427559623",appId:"1:525427559623:web:086662897279ef7ca942e2",measurementId:"G-LRVXXWQ6R2"}),C=function(e){return function(t){return t?void 0:e}},z=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduce((function(t,a){return t||a(e)}),void 0)}},S=(a(71),function(e){var t=e.labelText,a=e.editDate,c=e.refUrl,i=e.isActiveEditing,l=e.setIsActiveEditing,m=Object(n.useState)(),u=Object(s.a)(m,2),o=u[0],d=u[1],f=Object(n.useState)(),E=Object(s.a)(f,2),g=E[0],_=E[1],v=Object(n.useState)(!1),p=Object(s.a)(v,2),h=p[0],N=p[1],y=Object(n.useState)(!1),O=Object(s.a)(y,2),k=O[0],S=O[1],U={fields:[{name:"workoutName",validate:z(C("To pole jest wymagane!")),initialValue:o,text:t,placeholder:"Nazwa treningu",type:"text"}],button:{type:"submit",text:"Potwierd\u017a zmiany"}};a&&U.fields.unshift({name:"date",validate:z(C("To pole jest wymagane!")),initialValue:g,text:t,placeholder:"Data treningu",type:"datetime-local"});var D=function(){N(!h),l(!i)},T=function(e){d(e.val().workoutName),_(e.val().date),S(!0)};return Object(n.useEffect)((function(){var e=w.database().ref(c);return e.once("value").then(T),function(){e.off("value",T)}}),[c]),r.a.createElement(r.a.Fragment,null,h?r.a.createElement(j,{formFields:U,handleSubmit:function(e){!function(e,t){t?w.database().ref(c).update({workoutName:e,date:t}):w.database().ref(c).update({workoutName:e})}(e.workoutName,e.date),d(e.workoutName),a&&_(e.date),D()}}):k?r.a.createElement("div",{className:"edit-title__div"},r.a.createElement("h2",{className:"edit-title__h2"},o),r.a.createElement("div",{className:"edit-title__div-icon"},r.a.createElement(x.a,{onClick:D,className:"edit-title__icon-edit"}))):r.a.createElement(b,null))}),U=(a(72),function(e){var t=e.handleEdit,a=e.editTitle;return r.a.createElement("section",{className:"go-back-delete"},r.a.createElement(k,null),r.a.createElement(y,{onClick:t},a))}),D=a(37),T=(a(75),function(e){var t=e.specification,a=e.children,c=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(null!==c.current){var e=c.current.getContext("2d");if(e){var a=new D.Chart(e,t);return function(){a.destroy()}}}})),r.a.createElement("div",{className:"chart"},a?r.a.createElement("h1",{className:"chart__h1"},a):null,r.a.createElement("canvas",{className:"chart__canvas",ref:c}))}),I=(a(76),function(e){var t=e.type,a=Object(n.useState)(""),c=Object(s.a)(a,2),i=c[0],l=c[1];return[i,r.a.createElement("input",{value:i,onChange:function(e){return l(e.target.value)},type:t})]}),F=Object(n.createContext)({}),A=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(s.a)(a,2),i=c[0],l=c[1],u=Object(n.useState)(!0),o=Object(s.a)(u,2),d=o[0],f=o[1];return Object(n.useEffect)((function(){m.a.auth().onAuthStateChanged((function(e){e&&m.a.database().ref("users/").child(e.uid).once("value",(function(t){if(!(null!==t.val())){var a=e.displayName.split(" ")[0],n=e.displayName.split(" ").slice(1).join(" ");!function(e,t,a,n){m.a.database().ref("users/"+e).set({email:t}),m.a.database().ref("users/"+e+"/settings/user").set({name:a,surname:n})}(e.uid,e.email,a,n)}}));l(e),f(!1)}))}),[]),d?r.a.createElement(b,null):r.a.createElement(F.Provider,{value:{currentUser:i}},t)},B=(a(77),["W\u0119glowodany","T\u0142uszcze","Bia\u0142ko","Kalorie"]),L=["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"],M=["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrze\u015bnia","Pa\u017adziernika","Listopada","Grudnia"],R=function(e){var t=e.name,a=new Date,n=M,c="".concat(L[a.getDay()],", ").concat(a.getDate()," ").concat(n[a.getMonth()]," ").concat(a.getFullYear());return r.a.createElement("section",{className:"greetings"},r.a.createElement("h1",{className:"greetings__name"},"Cze\u015b\u0107 ",t||r.a.createElement(g.b,{className:"greetings__link",to:"settings"},"nieznajomy")," !"),r.a.createElement("span",{className:"greetings__date"},c))},W=(a(78),function(e){var t=e.name,a=e.surname,c=e.currentUser,i=["Pocz\u0105tkuj\u0105cy/a","\u015arednio zaawansowany/a","Zaawansowany","Ekspert"],l=Object(n.useState)(0),u=Object(s.a)(l,2),o=u[0],d=u[1];m.a.database().ref("users/".concat(c.uid,"/trainings")).once("value").then((function(e){d(e.numChildren())}));var f=o>=10?o>=50?o>=100?i[3]:i[2]:i[1]:i[0];return r.a.createElement("article",{className:"my-profile"},r.a.createElement("span",{className:"my-profile__text"},"M\xf3j profil"),r.a.createElement("div",{className:"my-profile__div-initials"},r.a.createElement("span",{className:"my-profile__initials"},t&&a?"".concat(t[0].toUpperCase()).concat(a[0].toUpperCase()):r.a.createElement(g.b,{className:"my-profile__link",to:"settings"},"?"))),r.a.createElement("span",{className:"my-profile__name"},t&&a?"".concat(t," ").concat(a):r.a.createElement(g.b,{className:"my-profile__link",to:"settings"},"-")),r.a.createElement("span",{className:"my-profile__rank"},f))}),V=(a(79),function(e){var t=e.ingredients,a=t.carbs,n=t.fats,c=t.proteins,i=t.calories,s=Object(d.g)();return r.a.createElement("div",{className:"eaten-calories"},r.a.createElement("span",{className:"eaten-calories__title"},"Dieta"),r.a.createElement("div",{className:"eaten-calories__calories"},a&&r.a.createElement("p",{onClick:function(){return s.push("settings")},className:"eaten-calories__p"},"W\u0119glowodany: ",a),n&&r.a.createElement("p",{onClick:function(){return s.push("settings")},className:"eaten-calories__p"},"T\u0142uszcze: ",n),c&&r.a.createElement("p",{onClick:function(){return s.push("settings")},className:"eaten-calories__p"},"Bia\u0142ko: ",c),i&&r.a.createElement("p",{onClick:function(){return s.push("settings")},className:"eaten-calories__p"},"Kalorie: ",i)))}),P=(a(80),function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"no",n=new Date(e),r=n.getDate()>9?n.getDate():"0"+n.getDate(),c=n.getMonth()+1>9?n.getMonth()+1:"0"+n.getMonth()+1,i=n.getFullYear(),s="yes"===a?"".concat(i).concat(t).concat(c).concat(t).concat(r):"".concat(r).concat(t).concat(c).concat(t).concat(i);return s}),H=function(){var e=Object(n.useContext)(F).currentUser,t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],i=a[1],l=new Date,u=P(l,"-","yes"),o=function(e){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),i(t)};return Object(n.useEffect)((function(){if(e){var t=m.a.database().ref("users/"+e.uid+"/trainings").orderByChild("date").startAt(u);return t.on("value",o),function(){t.off("value",o)}}}),[e,u]),r.a.createElement("div",{className:"today-trainings"},r.a.createElement("span",{className:"today-trainings__title"},"Treningi"),c&&0!==c.length?c.map((function(e){return r.a.createElement(g.b,{key:e.id,to:"trainings/".concat(e.id),className:"today-trainings__link"},e.workoutName)})):r.a.createElement("div",{className:"today-trainings__unset"},r.a.createElement(g.b,{className:"today-trainings__a",to:"trainings"},"Brak ustawionych trening\xf3w")))},K=(a(81),function(e){var t=e.ingredients;return r.a.createElement("article",{className:"activities"},r.a.createElement("span",{className:"activities__title"},"Dzisiaj"),r.a.createElement(V,{ingredients:t}),r.a.createElement(H,null))}),Z=(a(82),function(){var e=Object(n.useContext)(F).currentUser,t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],i=a[1],l=function(e){var t=[];e.forEach((function(e){var a=e.child("settings/user/name").val(),n=e.child("settings/user/surname").val();if(a&&n){var r=e.child("trainings").numChildren();t.push({name:a,surname:n,numberOfTrainings:r})}})),t.sort((function(e,t){return t.numberOfTrainings-e.numberOfTrainings})),i(t.slice(0,10))};return Object(n.useEffect)((function(){if(e){var t=m.a.database().ref("users");return t.on("value",l),function(){t.off("value",l)}}}),[e]),r.a.createElement("section",{className:"table-results"},r.a.createElement("h2",{className:"table-results__h2"},"Statystyki"),r.a.createElement("table",{className:"table-results__table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-results__tr"},r.a.createElement("th",{className:"table-results__th"},"Miejsce"),r.a.createElement("th",{className:"table-results__th"},"Imi\u0119"),r.a.createElement("th",{className:"table-results__th"},"Nazwisko"),r.a.createElement("th",{className:"table-results__th"},"Liczba trening\xf3w"))),r.a.createElement("tbody",null,c&&c.map((function(e,t){return r.a.createElement("tr",{className:"table-results__tr",key:"".concat(e.name,"/").concat(e.surname,"/").concat(e.numberOfTrainings)},r.a.createElement("td",{className:"table-results__td"},t+1),r.a.createElement("td",{className:"table-results__td"},e.name),r.a.createElement("td",{className:"table-results__td"},e.surname),r.a.createElement("td",{className:"table-results__td"},e.numberOfTrainings))})))),r.a.createElement("span",{className:"table-results__span"}))}),G=(a(83),function(){var e=Object(n.useContext)(F).currentUser,t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],i=a[1],l=function(e){i({name:e.child("user/name").val(),surname:e.child("user/surname").val(),ingredients:{carbs:e.child("diet/carbs").val(),fats:e.child("diet/fats").val(),proteins:e.child("diet/proteins").val(),calories:e.child("diet/calories").val()}})};return Object(n.useEffect)((function(){if(e){var t=m.a.database().ref("users/"+e.uid+"/settings");return t.on("value",l),function(){t.off("value",l)}}}),[e]),r.a.createElement(r.a.Fragment,null,e&&c?r.a.createElement("main",{className:"home"},r.a.createElement(R,{name:c.name}),r.a.createElement("section",{className:"home__profile"},r.a.createElement(W,{name:c.name,surname:c.surname,currentUser:e}),r.a.createElement(K,{ingredients:c.ingredients})),r.a.createElement(Z,null)):r.a.createElement(b,null))}),J=function(){var e=Object(n.useContext)(F).currentUser;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(G,null):r.a.createElement("div",null,"Zaloguj si\u0119"))},X=(a(84),a(85),function(e){var t=e.trainings,a=Object(d.g)();return r.a.createElement("ul",{className:"list-items"},t.map((function(e){var t=new Date(e.date),n="".concat(P(t,"/")),c=0;return e.exercises&&(c=Object.keys(e.exercises).length),r.a.createElement("li",{onClick:function(){return function(e){a.push("/trainings/".concat(e.id))}(e)},key:e.id,className:"list-items__li"},r.a.createElement("span",{className:"list-items__span"},e.workoutName),r.a.createElement("span",{className:"list-items__span"},n),r.a.createElement("span",{className:"list-items__span"},c))})).reverse())}),Y=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useContext)(F).currentUser,l=Object(n.useState)(!1),u=Object(s.a)(l,2),o=u[0],d=u[1],f=function(e){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),c(t),d(!0)};return Object(n.useEffect)((function(){if(i){var e=m.a.database().ref("users/"+i.uid+"/trainings").orderByChild("date");return e.on("value",f),function(){e.off("value",f)}}}),[i]),r.a.createElement("section",{className:"trainings__list"},r.a.createElement("h2",{className:"trainings__h2"},"Treningi"),o?r.a.createElement(X,{trainings:a}):r.a.createElement(b,null))},q=function(){var e=Object(n.useContext)(F).currentUser,t=Object(d.g)(),a=new Date,c="".concat(P(a,"-","yes"),"T").concat(function(e,t){var a=new Date(e),n=a.getHours()>9?a.getHours():"0"+a.getHours(),r=a.getMinutes()>9?a.getMinutes():"0"+a.getMinutes();return"".concat(n).concat(t).concat(r)}(a,":")),i={fields:[{name:"date",validate:z(C("To pole jest wymagane!")),initialValue:c,text:"Data treningu",placeholder:"Data treningu",type:"datetime-local",max:c},{name:"workoutName",validate:z(C("To pole jest wymagane!")),initialValue:void 0,text:"Nazwa treningu",placeholder:"Nazwa treningu"}],button:{type:"submit",text:"Dodaj trening"}};return r.a.createElement("section",{className:"add-training"},r.a.createElement(j,{formFields:i,handleSubmit:function(a){var n=a.date.replace(/-/g,"").replace(/T/g,"").replace(/:/g,"");e&&(!function(e,t,a,n){m.a.database().ref("users/"+e+"/trainings/"+t).set({id:t,date:a,workoutName:n})}(e.uid,n,a.date,a.workoutName),t.push("/trainings/".concat(n)))}}))},Q=(a(86),function(){return r.a.createElement("main",{className:"trainings"},r.a.createElement(q,null),r.a.createElement(Y,null))}),$=(a(87),function(e){var t=e.exercises,a=e.id,n=Object(d.g)();return r.a.createElement("ul",{className:"training-exercise-list__ul"},t.map((function(e){var t;return r.a.createElement("li",{key:e.key,onClick:function(){return function(e,t){n.push({pathname:"/trainings/".concat(a,"/").concat(e),state:{exerciseName:t}})}(e.key,e.workoutName)},className:"training-exercise-list__exercise"},r.a.createElement("span",{className:"training-exercise-list__workout-name"},e.workoutName),r.a.createElement("div",{className:"training-exercise-list__series-div"},null===(t=e.series)||void 0===t?void 0:t.map((function(t,a){if(a%2===0&&e.series){var n="".concat(e.series[a],":").concat(e.series[a+1]);return r.a.createElement("span",{key:a,className:"training-exercise-list__series"},n)}}))))})))}),ee=a(23),te=(a(88),function(e){var t=e.exercises,a=(e.id,e.refUrl),c=Object(n.useState)(t.map((function(e,t){return{id:"".concat(t+1),content:e.workoutName,key:e.key}}))),i=Object(s.a)(c,2),l=i[0],m=i[1];return r.a.createElement(ee.a,{onDragEnd:function(e){if(e.destination){var t=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),c=Object(s.a)(r,1)[0];return n.splice(a,0,c),n}(l,e.source.index,e.destination.index);m(t),w.database().ref(a).set({}),t.forEach((function(e){w.database().ref(a).push().set({workoutName:e.content})}))}}},r.a.createElement(ee.c,{droppableId:"droppable"},(function(e,t){return r.a.createElement("div",Object.assign({className:"list"},e.droppableProps,{ref:e.innerRef}),l.map((function(e,t){return r.a.createElement(ee.b,{key:e.id,draggableId:e.id,index:t},(function(t,a){return r.a.createElement("div",Object.assign({className:"list__item",ref:t.innerRef},t.draggableProps,t.dragHandleProps),e.content)}))})),e.placeholder)})))}),ae=function(e){var t=e.exercises,a=e.id,c=Object(n.useContext)(F).currentUser,i={fields:[{name:"workoutName",validate:z(C("To pole jest wymagane!")),initialValue:void 0,text:"Nowe \u0107wiczenie",placeholder:"Nowe \u0107wiczenie"}],button:{type:"submit",text:"Dodaj \u0107wiczenie"}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{formFields:i,handleSubmit:function(e){c&&(m.a.database().ref("users/".concat(c.uid,"/trainings/").concat(a)).child("exercises").push().set({workoutName:e.workoutName}),e.workoutName="")}}),r.a.createElement($,{exercises:t,id:a}))},ne=(a(90),function(e){var t=e.match,a=Object(d.g)(),c=t.params.id,i=Object(n.useContext)(F).currentUser,l=Object(n.useState)(!1),m=Object(s.a)(l,2),u=m[0],o=m[1],f=Object(n.useState)(),b=Object(s.a)(f,2),E=b[0],g=b[1],_=function(e){var t=[];e.forEach((function(e){var a=e.val(),n=a.series,r=a.workoutName,c=e.key;t.push({workoutName:r,key:c,series:n})})),g(t)};return Object(n.useEffect)((function(){if(i){var e=w.database().ref("users/".concat(i.uid,"/trainings/").concat(c));return e.child("exercises").on("value",_),function(){e.child("exercises").off("value",_)}}}),[i,c]),r.a.createElement("main",{className:"training"},r.a.createElement(U,{handleEdit:function(){i&&(w.database().ref("users/".concat(i.uid,"/trainings/").concat(c)).remove(),a.goBack())},editTitle:"Usu\u0144 trening"}),r.a.createElement("section",{className:"training__add-exercise"},i&&r.a.createElement(S,{labelText:"Nazwa treningu",editDate:!0,refUrl:"users/".concat(i.uid,"/trainings/").concat(c),isActiveEditing:u,setIsActiveEditing:o}),u&&i?r.a.createElement(te,{exercises:E,id:c,refUrl:"users/".concat(i.uid,"/trainings/").concat(c,"/exercises")}):E&&r.a.createElement(ae,{exercises:E,id:c})))}),re=(a(91),a(92),function(){return Math.random().toString(36).substr(2,9)+Math.random().toString(36).substr(2,9)+Math.random().toString(36).substr(2,9)}),ce=function(e){var t=e.fields,a=e.button,n=e.setFormFields;return r.a.createElement("div",{onClick:function(){t.push({name:"exerciseWeight".concat(re()),validate:z(C("To pole jest wymagane!")),initialValue:void 0,text:"Ci\u0119\u017car (kg)",placeholder:"Ci\u0119\u017car (kg)"},{name:"exerciseRepeat".concat(re()),validate:z(C("To pole jest wymagane!")),initialValue:void 0,text:"Liczba powt\xf3rze\u0144",placeholder:"Liczba powt\xf3rze\u0144"}),n({fields:t,button:a})},className:"exercise__line"},r.a.createElement("div",{className:"exercise__check"},"+"))},ie=(a(93),function(e){var t=e.index,a=e.handleRemoveSeries;return r.a.createElement("div",{className:"remove-series"},r.a.createElement("button",{onClick:function(){return a(t)},type:"button",className:"remove-series__button"},"Usu\u0144 seri\u0119"))}),se=(a(94),function(e){var t=e.index;return r.a.createElement(r.a.Fragment,null,t%2===0&&r.a.createElement("p",{className:"seriesNumber"},"Seria ",t/2+1))}),le=function(e){var t=e.formFields,a=t.fields,c=t.button,i=e.setFormFields,s=e.id,l=e.paramId,u=Object(n.useContext)(F).currentUser,o=function(e){a.splice(e-1,2),i({fields:a,button:c})};return r.a.createElement(N.b,{onSubmit:function(e){var t=[];if(a.forEach((function(a){t.push(e[a.name])})),u){var n="users/".concat(u.uid,"/trainings/").concat(s,"/exercises/").concat(l);m.a.database().ref(n).child("series").set(t)}}},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:"form"},a.map((function(e,t){return r.a.createElement(N.a,{key:e.name,name:e.name,validate:e.validate,defaultValue:e.initialValue,parse:e.parse},(function(a){var n=a.input,c=a.meta;return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{index:t}),r.a.createElement("div",{className:"form__wrapper"},r.a.createElement("label",null,e.text),r.a.createElement("input",Object.assign({className:"form__input"},n,{type:"number",step:"1",min:"0",placeholder:e.placeholder})),c.error&&c.touched&&r.a.createElement("span",{className:"form__span"},c.error)),t%2===1&&r.a.createElement(ie,{index:t,handleRemoveSeries:o}))}))})),r.a.createElement(ce,{fields:a,button:c,setFormFields:i}),r.a.createElement("button",{className:"form__button"},c.text))}))},me=(a(95),function(e){var t=Object(d.g)(),a=Object(n.useContext)(F).currentUser,c=e.match.url.replace("/trainings/","").replace("/"+e.match.params.id,""),i=Object(n.useState)(!1),l=Object(s.a)(i,2),m=l[0],u=l[1],o=Object(n.useState)({fields:[{name:"exerciseWeight",validate:z(C("To pole jest wymagane!")),initialValue:void 0,text:"Ci\u0119\u017car (kg)",placeholder:"Ci\u0119\u017car (kg)"},{name:"exerciseRepeat",validate:z(C("To pole jest wymagane!")),initialValue:void 0,text:"Liczba powt\xf3rze\u0144",placeholder:"Liczba powt\xf3rze\u0144"}],button:{type:"submit",text:"Zapisz"}}),f=Object(s.a)(o,2),b=f[0],E=f[1];return Object(n.useEffect)((function(){a&&w.database().ref("users/".concat(a.uid,"/trainings/").concat(c,"/exercises/").concat(e.match.params.id,"/series")).on("value",(function(e){if(e){var t=[];e.forEach((function(e){var a=t.length%2===0?"Ci\u0119\u017car (kg)":"Liczba powt\xf3rze\u0144";t.push({name:"".concat(t.length%2===0?"exerciseWeight":"exerciseRepeat").concat(re()),validate:z(C("To pole jest wymagane!")),initialValue:e.val(),text:a,placeholder:a})})),t.length>0&&E({fields:t,button:{type:"submit",text:"Zapisz"}})}}))}),[a,c,e.match.params.id]),r.a.createElement("main",{className:"exercise"},r.a.createElement(U,{handleEdit:function(){a&&(w.database().ref("users/".concat(a.uid,"/trainings/").concat(c,"/exercises/").concat(e.match.params.id)).remove(),t.goBack())},editTitle:"Usu\u0144 \u0107wiczenie"}),r.a.createElement("section",{className:"exercise__add-series"},a&&r.a.createElement(S,{labelText:"Nazwa \u0107wiczenia",editDate:!1,refUrl:"users/".concat(a.uid,"/trainings/").concat(c,"/exercises/").concat(e.match.params.id),isActiveEditing:m,setIsActiveEditing:u}),!m&&r.a.createElement(le,{formFields:b,setFormFields:E,id:c,paramId:e.match.params.id})))}),ue=function(e){var t=e.trainings,a=[0,0,0,0,0,0,0,0,0,0,0,0];t.forEach((function(e){a[new Date(e.date).getMonth()]+=1}));var n={type:"bar",data:{labels:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],datasets:[{data:a,backgroundColor:function(e){return e.dataIndex%2?"rgba(255, 165, 0, 0.5)":"rgba(235, 118, 98, 0.8)"},borderColor:function(e){return e.dataIndex%2?"rgba(255, 165, 0, 0.5)":"rgba(235, 118, 98, 1)"},borderWidth:1,hoverBackgroundColor:[],hoverBorderColor:[],hoverBorderWidth:3,weight:1}]},options:{title:{display:!0,text:"Liczba trening\xf3w w roku"},legend:{display:!1,labels:{},position:"right"},scales:{yAxes:[{ticks:{lineHeight:2}}]}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{specification:n}," "))},oe=function(e){var t=e.trainings,a={name:[],amount:[]};t.forEach((function(e){var t=a.name.findIndex((function(t){return t===e.workoutName}));-1!==t?++a.amount[t]:(a.name.push(e.workoutName),a.amount.push(1))}));var n={type:"pie",data:{labels:a.name,datasets:[{data:a.amount,backgroundColor:["rgba(230, 25, 75, 0.2)","rgba(245, 130, 48, 0.2)","rgba(255, 225, 25, 0.2)","rgba(210, 245,60, 0.2)","rgba(60, 180, 75, 0.2)","rgba(70, 240, 75, 0.2)","rgba(0, 130, 200, 0.2)","rgba(0, 0, 128, 0.2)","rgba(145, 30, 180, 0.2)","rgba(240, 30, 180, 0.2)","rgba(128, 128, 128, 0.2)","rgba(0, 0, 0, 0.2)"],borderColor:["rgba(230, 25, 75, 0.8)","rgba(245, 130, 48, 0.8)","rgba(255, 225, 25, 0.8)","rgba(210, 245,60,0.8)","rgba(60, 180, 75, 0.8)","rgba(70, 240, 75,0.8)","rgba(0, 130, 200,0.8)","rgba(0, 0, 128, 0.8)","rgba(145, 30, 180, 0.8)","rgba(240, 30, 180, 0.8)","rgba(128, 128, 128, 0.8)","rgba(0, 0, 0, 0.8)"],borderWidth:1,hoverBackgroundColor:["rgba(230, 25, 75, 0.5)","rgba(245, 130, 48, 0.5)","rgba(255, 225, 25, 0.5)","rgba(210, 245,60, 0.5)","rgba(60, 180, 75, 0.5)","rgba(70, 240, 75, 0.5)","rgba(0, 130, 200, 0.5)","rgba(0, 0, 128, 0.5)","rgba(145, 30, 180, 0.5)","rgba(240, 30, 180, 0.5)","rgba(128, 128, 128, 0.5)","rgba(0, 0, 0, 0.5)"],hoverBorderColor:["rgba(230, 25, 75, 1)","rgba(245, 130, 48, 1)","rgba(255, 225, 25, 1)","rgba(210, 245,60,1)","rgba(60, 180, 75, 1)","rgba(70, 240, 75,1)","rgba(0, 130, 200,1)","rgba(0, 0, 128, 1)","rgba(145, 30, 180, 1)","rgba(240, 30, 180, 1)","rgba(128, 128, 128, 1)","rgba(0, 0, 0, 1)"],hoverBorderWidth:3,weight:1}]}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{specification:n}," "))},de=(a(96),function(e){var t=e.trainings,a=[];t.forEach((function(e){-1===a.findIndex((function(t){return t===e.workoutName}))&&a.push(e.workoutName)}));var c=Object(n.useState)(a[0]),i=Object(s.a)(c,2),l=i[0],m=i[1],u=t.filter((function(e){return e.workoutName===l})),o={date:[],amount:[]};u.forEach((function(e){var t=0;if(e.exercises)for(var a=0,n=Object.entries(e.exercises);a<n.length;a++){var r=Object(s.a)(n[a],2)[1];if(r.series){for(var c=[],i=0,l=Object.entries(r.series);i<l.length;i++){var m=Object(s.a)(l[i],2)[1];c.push(m)}for(var u=0;u<c.length;u+=2)t+=Number(c[u])*Number(c[u+1])}}var d=new Date(e.date),f="".concat(P(d,"/"));o.date.push(f),o.amount.push(t)}));var d={type:"bar",data:{labels:o.date,datasets:[{data:o.amount,backgroundColor:function(e){return e.dataIndex%2?"rgba(255, 165, 0, 0.5)":"rgba(235, 118, 98, 0.8)"},borderColor:function(e){return e.dataIndex%2?"rgba(255, 165, 0, 0.5)":"rgba(235, 118, 98, 1)"},borderWidth:1,hoverBackgroundColor:[],hoverBorderColor:[],hoverBorderWidth:3,weight:1}]},options:{title:{display:!0,text:"Liczba podniesionych kg"},legend:{display:!1,labels:{},position:"right"},scales:{yAxes:[{ticks:{lineHeight:2,beginAtZero:!0}}]}}};return r.a.createElement("div",{className:"weightRaisedPerTrainingName"},r.a.createElement("label",{className:"weightRaisedPerTrainingName__label"},"Wybierz parti\u0119 mi\u0119\u015bni"),r.a.createElement("select",{onChange:function(e){m(e.target.value)}},a.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement(T,{specification:d}," "))}),fe=function(e){var t=e.trainings;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,{trainings:t}),r.a.createElement(oe,{trainings:t}),r.a.createElement(de,{trainings:t}))},be=(a(97),function(){var e=Object(n.useContext)(F).currentUser,t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],i=a[1],l=function(e){var t=[];e.forEach((function(e){t.push(e.val())})),i(t)};return Object(n.useEffect)((function(){e&&w.database().ref("users/".concat(e.uid,"/trainings")).once("value",l)}),[e]),r.a.createElement("main",{className:"statistics"},c&&r.a.createElement(fe,{trainings:c}))}),Ee=a(10),ge=function(){return r.a.createElement("thead",{className:"measurement__thead"},r.a.createElement("tr",{className:"measurement__tr"},r.a.createElement("th",{className:"measurement__th"},"Data"),r.a.createElement("th",{className:"measurement__th"},"Waga"),r.a.createElement("th",{className:"measurement__th"},"Rami\u0119"),r.a.createElement("th",{className:"measurement__th"},"Klatka"),r.a.createElement("th",{className:"measurement__th"},"Talia"),r.a.createElement("th",{className:"measurement__th"},"Uda"),r.a.createElement("th",{className:"measurement__th"})))},_e=function(e){var t=e.measurements,a=e.handleDeleteMeasurement;return r.a.createElement(r.a.Fragment,null,t.map((function(e){var t=new Date(e.date),n=P(t,"/");return r.a.createElement("tr",{className:"measurement__tr",key:e.id},r.a.createElement("td",{className:"measurement__td"},n),r.a.createElement("td",{className:"measurement__td"},e.weight),r.a.createElement("td",{className:"measurement__td"},e.arm),r.a.createElement("td",{className:"measurement__td"},e.chest),r.a.createElement("td",{className:"measurement__td"},e.waist),r.a.createElement("td",{className:"measurement__td"},e.thighs),r.a.createElement("td",{className:"measurement__td"},r.a.createElement(y,{onClick:function(){return a(e.id)}},"Usu\u0144")))})).reverse())},ve=(a(98),function(e){var t=e.measurements,a=e.setActiveMeasurement,n=e.currentUserId,c=I({type:"number"}),i=Object(s.a)(c,2),l=i[0],u=i[1],o=I({type:"number"}),d=Object(s.a)(o,2),f=d[0],b=d[1],E=I({type:"number"}),g=Object(s.a)(E,2),_=g[0],v=g[1],p=I({type:"number"}),h=Object(s.a)(p,2),N=h[0],j=h[1],O=I({type:"number"}),k=Object(s.a)(O,2),x=k[0],w=k[1],C=""===l&&""===f&&""===_&&""===N&&""===x,z=new Date,S=P(z,"/"),U=function(){if(C);else{var e={date:P(z,"-"),id:re(),weight:l,arm:f,chest:_,waist:N,thighs:x};r=e,m.a.database().ref("users/"+n+"/measurements").set([].concat(Object(Ee.a)(t),[r]))}var r;a(!1)};return r.a.createElement("tr",{className:"add-measurement"},r.a.createElement("td",{className:"add-measurement__td"},S),r.a.createElement("td",{className:"add-measurement__td"},u),r.a.createElement("td",{className:"add-measurement__td"},b),r.a.createElement("td",{className:"add-measurement__td"},v),r.a.createElement("td",{className:"add-measurement__td"},j),r.a.createElement("td",{className:"add-measurement__td"},w),r.a.createElement("td",{className:"add-measurement__td"},r.a.createElement(y,{onClick:function(){return U()}},C?"Usu\u0144":"Zapisz")))}),pe=(a(99),function(){var e=Object(n.useContext)(F).currentUser,t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(!1),u=Object(s.a)(l,2),o=u[0],d=u[1],f=Object(n.useState)(!1),E=Object(s.a)(f,2),g=E[0],_=E[1],v=function(e){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),i(t),_(!0)};return Object(n.useEffect)((function(){if(e){var t=m.a.database().ref("users/"+e.uid+"/measurements").orderByChild("date");return t.on("value",v),function(){t.off("value",v)}}}),[e]),r.a.createElement("main",{className:"measurement"},r.a.createElement(y,{onClick:function(){d(!0)}},"Dodaj pomiary"),g?r.a.createElement("table",{className:"measurement__table"},r.a.createElement(ge,null),r.a.createElement("tbody",{className:"measurement__tbody"},o&&e&&r.a.createElement(ve,{measurements:c,setActiveMeasurement:d,currentUserId:e.uid}),r.a.createElement(_e,{measurements:c,handleDeleteMeasurement:function(t){var a=c.filter((function(e){return e.id!==t}));e&&m.a.database().ref("users/"+e.uid+"/measurements").set(Object(Ee.a)(a))}}))):r.a.createElement(b,null))}),he=(a(100),function(e){var t=e.title,a=e.nutrients,r=e.index;return n.createElement(n.Fragment,null,n.createElement("div",{className:"diet-nutrient"},n.createElement("p",{className:"diet-nutrient__title"},t),n.createElement("p",{className:"diet-nutrient__amount"},a[r])))}),Ne=(a(101),function(e){var t=e.date,a=e.carbs,n=e.fats,c=e.proteins,i=e.calories,s=Object(d.g)(),l=B,m=[a,n,c,i],u=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"no",n=e.slice(6,8),r=e.slice(4,6),c=e.slice(0,4),i="yes"===a?"".concat(c).concat(t).concat(r).concat(t).concat(n):"".concat(n).concat(t).concat(r).concat(t).concat(c);return i}(t,"/");return r.a.createElement("div",{onClick:function(){return function(e){s.push("diet/".concat(e))}(t)},className:"diet-element",key:t},r.a.createElement("div",{className:"diet-element__date"},u),r.a.createElement("div",{className:"diet-element__nutrients"},l.map((function(e,t){return r.a.createElement(he,{key:e,title:e,nutrients:m,index:t})}))))}),je=function(e){var t=e.diets;return r.a.createElement(r.a.Fragment,null,t.map((function(e){var t=0,a=0,n=0,c=0;return e.meal&&e.meal.forEach((function(e){e.list&&e.list.forEach((function(e){t+=e.carbs,a+=e.fats,n+=e.proteins,c+=e.calories}))})),r.a.createElement(Ne,{key:e.date,date:e.date,carbs:t,fats:a,proteins:n,calories:c})})).reverse())},ye=(a(102),function(){var e=Object(d.g)(),t=Object(n.useContext)(F).currentUser,a=Object(n.useState)([]),c=Object(s.a)(a,2),i=c[0],l=c[1],u=Object(n.useState)(!1),o=Object(s.a)(u,2),f=o[0],E=o[1],g=Object(n.useState)(!1),_=Object(s.a)(g,2),v=_[0],p=_[1],h=function(e){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),l(t),p(!0)};return Object(n.useEffect)((function(){if(t){var e=m.a.database().ref("users/"+t.uid+"/diet").orderByChild("date");return e.on("value",h),function(){e.off("value",h)}}}),[t]),r.a.createElement("main",{className:"diet"},r.a.createElement("div",{className:"diet__div"},r.a.createElement(y,{onClick:function(){var a,n,r=new Date,c=P(r,"","yes"),s=!0;if(i.forEach((function(e){c===e.date&&(s=!1,E(!0))})),s){t&&(a=t.uid,n=c,m.a.database().ref("users/"+a+"/diet/"+n).set({date:n}),e.push("/diet/".concat(c)))}}},"Dodaj diete"),f&&r.a.createElement("span",{className:"diet__span"},"Dzisiejsza dieta jest ju\u017c dodana")),v?r.a.createElement(je,{diets:i}):r.a.createElement(b,null))}),Oe=(a(103),a(12)),ke=function(e){var t=e.meal,a=e.item,c=e.index,i=e.indexList,s=e.id,l=Object(n.useContext)(F).currentUser;return r.a.createElement("tr",null,r.a.createElement("td",{className:"meal-table__td"},a.ingredient),r.a.createElement("td",{className:"meal-table__td"},a.carbs),r.a.createElement("td",{className:"meal-table__td"},a.fats),r.a.createElement("td",{className:"meal-table__td"},a.proteins),r.a.createElement("td",{className:"meal-table__td"},a.calories),r.a.createElement("td",{className:"meal-table__td"},r.a.createElement(O.b,{onClick:function(){return function(e){if(l){var a=t.list.filter((function(t,a){return a!==e}));m.a.database().ref("users/".concat(l.uid,"/diet/").concat(s,"/meal/").concat(i,"/list")).set(Object(Ee.a)(a))}}(c)},className:"meal-table__remove"})))},xe=function(e){var t=e.meal,a=e.titles,n=[0,0,0,0];return t.list&&t.list.forEach((function(e){n[0]+=e.carbs,n[1]+=e.fats,n[2]+=e.proteins,n[3]+=e.calories})),r.a.createElement(r.a.Fragment,null,n.map((function(e,t){return r.a.createElement("td",{key:a[t],className:"meal-table__td"},e)})))},we=function(e){var t,a=e.setActiveMeal,c=e.mealList,i=e.currentUserId,l=e.id,u=e.indexList,o=function(e){var t=e.type,a=Object(n.useState)(""),c=Object(s.a)(a,2),i=c[0],l=c[1];return[i,r.a.createElement("input",{value:i,onChange:function(e){return l(e.target.value)},type:t,min:0})]},d=o({type:"text"}),f=Object(s.a)(d,2),b=f[0],E=f[1],g=o({type:"number"}),_=Object(s.a)(g,2),v=_[0],p=_[1],h=o({type:"number"}),N=Object(s.a)(h,2),j=N[0],y=N[1],k=o({type:"number"}),x=Object(s.a)(k,2),w=x[0],C=x[1],z=o({type:"number"}),S=Object(s.a)(z,2),U=S[0],D=S[1];c&&(t=-1!==c.findIndex((function(e){return e.ingredient===String(b)})));return r.a.createElement("tr",{className:"meal-table__tr"},r.a.createElement("td",{className:"meal-table__td"},E,r.a.createElement("span",{className:"meal-table__span"},t&&"Podana nazwa jest zaj\u0119ta")),r.a.createElement("td",{className:"meal-table__td"},p),r.a.createElement("td",{className:"meal-table__td"},y),r.a.createElement("td",{className:"meal-table__td"},C),r.a.createElement("td",{className:"meal-table__td"},D),r.a.createElement("td",{className:"meal-table__td"},r.a.createElement("span",null,""===b||""===v||""===j||""===w||""===U||t?r.a.createElement(O.b,{onClick:function(){return a(!1)},className:"meal-table__remove"}):r.a.createElement(Oe.b,{className:"meal-table__save",onClick:function(){return function(){var e={ingredient:String(b),carbs:Number(v),fats:Number(j),proteins:Number(w),calories:Number(U)};if(i){var t=[];t=c?[].concat(Object(Ee.a)(c),[e]):[e],m.a.database().ref("users/".concat(i,"/diet/").concat(l,"/meal/").concat(u,"/list")).set(t),a(!1)}}()}}))))},Ce=(a(104),function(e){var t=e.meals,a=e.meal,c=e.indexList,i=e.id,l=Object(n.useContext)(F).currentUser,u=Object(n.useState)(!1),o=Object(s.a)(u,2),d=o[0],f=o[1],b=B;return r.a.createElement("table",{key:a.mealName,className:"meal-table"},r.a.createElement("thead",{className:"meal-table__thead"},r.a.createElement("tr",{className:"meal-table__tr"},r.a.createElement("th",{className:"meal-table__th"},a.mealName),b.map((function(e){return r.a.createElement("th",{key:e,className:"meal-table__th"},e)})),r.a.createElement("th",{className:"meal-table__th"},r.a.createElement(Oe.a,{onClick:function(){return function(e){if(l){var a=t.filter((function(t){return t.mealName!==e}));m.a.database().ref("users/".concat(l.uid,"/diet/").concat(i,"/meal")).set(Object(Ee.a)(a))}}(a.mealName)}})))),r.a.createElement("tbody",{className:"meal-table__tbody"},a.list&&a.list.map((function(e,t){return r.a.createElement(ke,{key:e.ingredient,meal:a,item:e,index:t,indexList:c,id:i})})),d&&l&&r.a.createElement(we,{setActiveMeal:f,mealList:a.list,currentUserId:l.uid,id:i,indexList:c}),r.a.createElement("tr",{className:"meal-table__tr"},r.a.createElement("td",{className:"meal-table__td"},r.a.createElement(y,{onClick:function(){f(!0)}},"Dodaj")),r.a.createElement(xe,{meal:a,titles:b}),r.a.createElement("td",{className:"meal-table__td"}))))}),ze=function(e){var t=e.meals,a=e.id;return r.a.createElement(r.a.Fragment,null,t&&t.map((function(e,n){return r.a.createElement(Ce,{key:e.mealName,meals:t,meal:e,indexList:n,id:a})})))},Se=function(e){var t=e.meals,a=e.setActiveMeal,c=e.currentUserId,i=e.id,l=Object(n.useRef)(null),u=Object(n.useState)(""),o=Object(s.a)(u,2),d=o[0],f=o[1],b=B;return Object(n.useEffect)((function(){l.current&&l.current.focus()}),[]),r.a.createElement("table",{key:"add-meal",className:"meal-table"},r.a.createElement("thead",{className:"meal-table__thead"},r.a.createElement("tr",{className:"meal-table__tr"},r.a.createElement("th",{className:"meal-table__th"},r.a.createElement("input",{type:"text",value:d,placeholder:"Nazwa",onChange:function(e){return f(e.target.value)},ref:l}),r.a.createElement("span",{className:"meal-table__error"},-1!==t.findIndex((function(e){return e.mealName===d}))&&"Nazwa zaj\u0119ta")),b.map((function(e){return r.a.createElement("th",{key:e,className:"meal-table__th"},e)})),r.a.createElement("th",{className:"meal-table__th"},t&&-1===t.findIndex((function(e){return e.mealName===d}))&&""!==d?r.a.createElement(Oe.b,{className:"meal-table__save-meal",onClick:function(){return c&&(m.a.database().ref("users/".concat(c,"/diet/").concat(i,"/meal")).set([].concat(Object(Ee.a)(t),[{mealName:d}])),a(!1)),void a(!1)}}):r.a.createElement(Oe.a,{onClick:function(){return a(!1)}})))),r.a.createElement("tbody",{className:"meal-table__tbody"}))},Ue=(a(105),function(e){var t=e.sumNutrientsByType,a=e.titles;return r.a.createElement("tr",{className:"meal-summary__tr"},r.a.createElement("td",{className:"meal-summary__td"},"Razem"),t.map((function(e,t){return r.a.createElement("td",{key:a[t],className:"meal-summary__td"},e)})))}),De=function(e){var t=e.titles,a=e.diet;return r.a.createElement("tr",{className:"meal-summary__tr"},r.a.createElement("td",{className:"meal-summary__td"},"Dzienny plan"),t.map((function(e,t){return r.a.createElement("td",{key:e,className:"meal-summary__td"},void 0===a[t]?"-":a[t])})))},Te=function(e){var t=e.sumNutrientsByType,a=e.diet,n=e.titles;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"meal-summary__tr"},r.a.createElement("td",{className:"meal-summary__td"},"Brakuj\u0105ce"),t.map((function(e,t){var c=void 0===a[t]?"-":e-a[t];return c>=0?r.a.createElement("td",{key:n[t],className:"meal-summary__td meal-summary__above-zero"},c):"-"===c?r.a.createElement("td",{key:n[t],className:"meal-summary__td"},c):r.a.createElement("td",{key:n[t],className:"meal-summary__td meal-summary__below-zero"},c)}))))},Ie=function(e){var t=e.titles;return r.a.createElement("tfoot",{className:"meal-summary__tfoot"},r.a.createElement("tr",{className:"meal-summary__tr"},r.a.createElement("th",{className:"meal-summary__th"}),t.map((function(e){return r.a.createElement("th",{key:e,className:"meal-summary__th"},e)}))))},Fe=function(e){var t=e.meals,a=e.currentUserId,c=[0,0,0,0],i=B,l=Object(n.useState)([0,0,0,0]),u=Object(s.a)(l,2),o=u[0],d=u[1],f=Object(n.useState)(!1),b=Object(s.a)(f,2),E=b[0],g=b[1];t.forEach((function(e){e.list&&e.list.forEach((function(e){c[0]+=e.carbs,c[1]+=e.fats,c[2]+=e.proteins,c[3]+=e.calories}))}));var _=function(e){if(e.val()){var t=e.val(),a=t.carbs,n=t.fats,r=t.proteins,c=t.calories;d([a,n,r,c]),g(!0)}};return Object(n.useEffect)((function(){if(a){var e=m.a.database().ref("users/"+a+"/settings/diet");return e.on("value",_),function(){e.off("value",_)}}}),[a]),r.a.createElement(r.a.Fragment,null,E&&r.a.createElement("table",{className:"meal-summary"},r.a.createElement("tbody",{className:"meal-summary__tbody"},r.a.createElement(Ue,{sumNutrientsByType:c,titles:i}),r.a.createElement(De,{diet:o,titles:i}),r.a.createElement(Te,{sumNutrientsByType:c,diet:o,titles:i})),r.a.createElement(Ie,{titles:i})))},Ae=function(){var e=Object(n.useContext)(F).currentUser,t=Object(d.h)(),a=Object(d.g)(),c=Object(n.useState)([]),i=Object(s.a)(c,2),l=i[0],u=i[1],o=function(e){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),u(t)},f=Object(n.useState)(!1),b=Object(s.a)(f,2),E=b[0],g=b[1];Object(n.useEffect)((function(){if(e){var a=m.a.database().ref("users/"+e.uid+"/diet/"+t.id+"/meal");return a.on("value",o),function(){a.off("value",o)}}}),[e,t.id]);return r.a.createElement("main",{className:"diet-day"},r.a.createElement(U,{handleEdit:function(){e&&(m.a.database().ref("users/".concat(e.uid,"/diet/").concat(t.id)).remove(),a.goBack())},editTitle:"Usu\u0144 diete"}),r.a.createElement("section",{className:"diet-day__section"},r.a.createElement(y,{onClick:function(){return g(!0)}},"Dodaj posi\u0142ek"),r.a.createElement(ze,{meals:l,id:t.id}),E&&e&&r.a.createElement(Se,{meals:l,setActiveMeal:g,currentUserId:e.uid,id:t.id}),0!==l.length&&e&&r.a.createElement(Fe,{meals:l,currentUserId:e.uid})))},Be=(a(106),function(e){var t=e.currentUser,a=Object(n.useState)(),c=Object(s.a)(a,2),i=c[0],l=c[1],u=function(e){l({fields:[{name:"name",validate:z(C("To pole jest wymagane!")),initialValue:e.child("name").val(),text:"Imi\u0119",placeholder:"Imi\u0119"},{name:"surname",validate:z(C("To pole jest wymagane!")),initialValue:e.child("surname").val(),text:"Nazwisko",placeholder:"Nazwisko"}],button:{type:"submit",text:"Aktualizuj"}})};Object(n.useEffect)((function(){if(t){var e=m.a.database().ref("users/"+t.uid+"/settings/user");return e.once("value",u),function(){e.off("value",u)}}}),[t]);return r.a.createElement("div",{className:"user"},r.a.createElement("h1",{className:"user__h1"},"Dane"),i?r.a.createElement(j,{formFields:i,handleSubmit:function(e){t&&m.a.database().ref("users/"+t.uid+"/settings/user").set(e)}}):r.a.createElement(b,null))}),Le=(a(107),function(e){var t=e.currentUser,a=Object(n.useState)(),c=Object(s.a)(a,2),i=c[0],l=c[1],u=function(e){l({fields:[{name:"carbs",initialValue:e.child("carbs").val(),text:"W\u0119glowodany",placeholder:"W\u0119glowodany",type:"number",step:"1",min:"0"},{name:"fats",initialValue:e.child("fats").val(),text:"T\u0142uszcze",placeholder:"T\u0142uszcze",type:"number",step:"1",min:"0"},{name:"proteins",initialValue:e.child("proteins").val(),text:"Bia\u0142ko",placeholder:"Bia\u0142ko",type:"number",step:"1",min:"0"},{name:"calories",initialValue:e.child("calories").val(),text:"Kalorie",placeholder:"Kalorie",type:"number",step:"1",min:"0"}],button:{type:"submit",text:"Aktualizuj"}})};Object(n.useEffect)((function(){if(t){var e=m.a.database().ref("users/"+t.uid+"/settings/diet");return e.once("value",u),function(){e.off("value",u)}}}),[t]);return r.a.createElement("div",{className:"diet"},r.a.createElement("h1",{className:"diet__h2"},"Dieta"),i?r.a.createElement(j,{formFields:i,handleSubmit:function(e){for(var a in e)null===e[a]||void 0===e[a]?delete e[a]:e[a]=Number(e[a]);t&&m.a.database().ref("users/"+t.uid+"/settings/diet").set(e)}}):r.a.createElement(b,null))}),Me=(a(108),function(){var e=Object(n.useContext)(F).currentUser;return r.a.createElement("main",{className:"settings"},e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,{currentUser:e}),r.a.createElement(Le,{currentUser:e})))}),Re=function(){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(b,null)},r.a.createElement(A,null,r.a.createElement(g.a,{basename:"/workout-app-react"},r.a.createElement(v,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/login"},r.a.createElement(f,null)),r.a.createElement(h,{path:"/trainings",component:Q,exact:!0}),r.a.createElement(h,{path:"/trainings/:id",component:ne,exact:!0}),r.a.createElement(h,{path:"/trainings/:id/:id",component:me,exact:!0}),r.a.createElement(h,{path:"/statistics",exact:!1,component:be}),r.a.createElement(h,{path:"/measurement",exact:!1,component:pe}),r.a.createElement(h,{path:"/diet",exact:!0,component:ye}),r.a.createElement(h,{path:"/diet/:id",exact:!0,component:Ae}),r.a.createElement(h,{path:"/settings",exact:!0,component:Me}),r.a.createElement(d.b,{path:"/",exact:!0},r.a.createElement(J,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[40,1,2]]]);
//# sourceMappingURL=main.8c1e8046.chunk.js.map