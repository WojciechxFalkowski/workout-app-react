(this["webpackJsonpworkout-app-react"]=this["webpackJsonpworkout-app-react"]||[]).push([[0],Array(48).concat([function(e,a,t){e.exports=t(128)},,,,,,function(e,a,t){},,,,,function(e,a,t){},,,,,,,,function(e,a,t){},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(10),i=t.n(c),l=(t(53),t(54),t(35),t(56),t(16)),s=(t(59),t(4)),o=t(2),m=t.n(o),u=t(38),d=t.n(u),f=t(7),b=(t(67),function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],c=a[1],i={signInFlow:"popup",signInOptions:[{provider:m.a.auth.GoogleAuthProvider.PROVIDER_ID,fullLabel:"Logowanie za pomoc\u0105 google"},{provider:m.a.auth.EmailAuthProvider.PROVIDER_ID,fullLabel:"Logowanie za pomoc\u0105 email"}],callbacks:{signInSuccessWithAuthResult:function(){return c(!0),!1}}};return r.a.createElement("main",{className:"login"},r.a.createElement("div",{className:"login__div"},t?r.a.createElement(f.a,{to:"/"}):r.a.createElement(d.a,{uiConfig:i,firebaseAuth:m.a.auth()})))}),E=(t(72),function(){return r.a.createElement("div",{className:"root"},r.a.createElement("div",{className:"root__div"}))}),g=(t(73),function(e){var a=e.onClick,t=e.hamburgerActive;return r.a.createElement("div",{className:"hamburger",onClick:a},r.a.createElement("div",{className:"hamburger__box"},r.a.createElement("div",{ref:t,className:"hamburger__inner inner"},r.a.createElement("div",{className:"inner__before"}),r.a.createElement("div",{className:"inner__after"}))))}),v=(t(74),t(5)),p=(t(75),function(e){var a=e.handleHamburger,t=Object(n.useContext)(F).currentUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navigation"},r.a.createElement("ul",{className:"navigation__ul"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"navigation__li"},r.a.createElement(v.c,{activeClassName:"navigation--active",onClick:a,to:"/trainings",className:"navigation__a"},"Treningi")),r.a.createElement("li",{className:"navigation__li"},r.a.createElement(v.c,{activeClassName:"navigation--active",onClick:a,to:"/statistics",className:"navigation__a"},"Statystyki")),r.a.createElement("li",{className:"navigation__li"},r.a.createElement(v.c,{activeClassName:"navigation--active",onClick:a,to:"/diet",className:"navigation__a"},"Dieta")),r.a.createElement("li",{className:"navigation__li"},r.a.createElement(v.c,{activeClassName:"navigation--active",onClick:a,to:"/settings",className:"navigation__a"},"Ustawienia")),r.a.createElement("li",{className:"navigation__li navigation__logout"},r.a.createElement("a",{onClick:function(){a(),m.a.auth().signOut().then((function(){}),(function(e){}))},href:"/workout-app-react",className:"navigation__a"},"Wyloguj"))):r.a.createElement("li",{className:"navigation__li navigation__login"},r.a.createElement(v.c,{activeClassName:"navigation--active",onClick:a,className:"navigation__a",to:"/login"},"Logowanie / Rejestracja")))))}),_=function(){var e=Object(n.useRef)(null),a=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{ref:e,className:"header"},r.a.createElement("h1",{className:"header__logo"},r.a.createElement(v.c,{to:"/",exact:!0,activeClassName:"navigation--active",className:"header__link"},"TO DO WORKOUT")),r.a.createElement("div",{className:"header__hamburger"},r.a.createElement(g,{onClick:function(){var t,n;null===(t=a.current)||void 0===t||t.classList.toggle("is-active-hamburger"),null===(n=e.current)||void 0===n||n.classList.toggle("header--active")},hamburgerActive:a})),r.a.createElement("div",{className:"header__links"},r.a.createElement(p,{handleHamburger:function(){var t,n;null===(t=a.current)||void 0===t||t.classList.remove("is-active-hamburger"),null===(n=e.current)||void 0===n||n.classList.remove("header--active")}}))))},h=t(18),N=(t(76),function(e){var a=e.formFields,t=e.handleSubmit,n=a.fields,c=a.button;return r.a.createElement(h.b,{onSubmit:t},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:"form"},n.map((function(e){return r.a.createElement(h.a,{key:e.name,name:e.name,validate:e.validate,defaultValue:e.initialValue,parse:e.parse},(function(a){var t=a.input,n=a.meta;return r.a.createElement("div",{className:"form__wrapper"},r.a.createElement("label",{className:"form__label"},e.text),"textarea"===e.component?r.a.createElement("textarea",Object.assign({},t,{className:"form__textarea",placeholder:"Description"})):r.a.createElement("input",Object.assign({},t,{className:"form__input",type:e.type,step:e.step?e.step:void 0,min:e.min?e.min:void 0,max:e.max?e.max:void 0,placeholder:e.placeholder})),n.error&&n.touched&&r.a.createElement("span",{className:"form__span"},n.error))}))})),r.a.createElement("button",{type:c.type,className:"form__button"},c.text))}))}),j=(t(77),function(e){var a=e.onClick,t=e.children;return r.a.createElement("button",{onClick:a,className:"button"},t)}),k=(t(78),t(13)),y=function(){var e=Object(f.g)();return r.a.createElement("div",{className:"arrow"},r.a.createElement(j,{onClick:function(){e.goBack()}},r.a.createElement(k.a,null)))},w=t(40),O=function(e){return function(a){return a?void 0:e}},x=function(e,a){return function(t){return isNaN(t.length)||t.length<=e?void 0:a}},z=function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(e){return a.reduce((function(a,t){return a||t(e)}),void 0)}},C=(t(79),function(e){var a=e.labelText,t=e.editDate,c=e.refUrl,i=e.isActiveEditing,l=e.setIsActiveEditing,o=Object(n.useState)(),u=Object(s.a)(o,2),d=u[0],f=u[1],b=Object(n.useState)(),g=Object(s.a)(b,2),v=g[0],p=g[1],_=Object(n.useState)(!1),h=Object(s.a)(_,2),j=h[0],k=h[1],y=Object(n.useState)(!1),x=Object(s.a)(y,2),C=x[0],S=x[1],T={fields:[{name:"workoutName",validate:z(O("To pole jest wymagane!")),initialValue:d,text:a,placeholder:"Nazwa treningu",type:"text"}],button:{text:"Potwierd\u017a zmiany"}};t&&T.fields.unshift({name:"date",validate:z(O("To pole jest wymagane!")),initialValue:v,text:a,placeholder:"Data treningu",type:"datetime-local"});var D=function(){k(!j),l(!i)},F=function(e){f(e.val().workoutName),p(e.val().date),S(!0)};return Object(n.useEffect)((function(){var e=m.a.database().ref(c);return e.once("value").then(F),function(){e.off("value",F)}}),[c]),r.a.createElement(r.a.Fragment,null,j?r.a.createElement(N,{formFields:T,handleSubmit:function(e){!function(e,a){a?m.a.database().ref(c).update({workoutName:e,date:a}):m.a.database().ref(c).update({workoutName:e})}(e.workoutName,e.date),f(e.workoutName),t&&p(e.date),D()}}):C?r.a.createElement("div",{className:"edit-title__div"},r.a.createElement("h2",{className:"edit-title__h2"},d),r.a.createElement("div",{className:"edit-title__div-icon"},r.a.createElement(w.a,{onClick:D,className:"edit-title__icon-edit"}))):r.a.createElement(E,null))}),S=(t(80),function(e){var a=e.handleEdit,t=e.editTitle;return r.a.createElement("section",{className:"go-back-delete"},r.a.createElement(y,null),r.a.createElement(j,{onClick:a},t))}),T=t(41),D=(t(83),function(e){var a=e.specification,t=e.children,c=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(null!==c.current){var e=c.current.getContext("2d");if(e){var t=new T.Chart(e,a);return function(){t.destroy()}}}})),r.a.createElement("div",{className:"chart"},t?r.a.createElement("h1",{className:"chart__h1"},t):null,r.a.createElement("canvas",{className:"chart__canvas",ref:c}))}),F=Object(n.createContext)({}),U=function(e){var a=e.children,t=Object(n.useState)(null),c=Object(s.a)(t,2),i=c[0],l=c[1],o=Object(n.useState)(!0),u=Object(s.a)(o,2),d=u[0],f=u[1];return Object(n.useEffect)((function(){m.a.auth().onAuthStateChanged((function(e){e&&m.a.database().ref("users/").child(e.uid).once("value",(function(a){if(!(null!==a.val())){var t=e.displayName.split(" ")[0],n=e.displayName.split(" ").slice(1).join(" ");!function(e,a,t,n){m.a.database().ref("users/"+e).set({email:a}),m.a.database().ref("users/"+e+"/settings/user").set({name:t,surname:n})}(e.uid,e.email,t,n)}}));l(e),f(!1)}))}),[]),d?r.a.createElement(E,null):r.a.createElement(F.Provider,{value:{currentUser:i}},a)},I=(t(84),["W\u0119glowodany","T\u0142uszcze","Bia\u0142ko","Kalorie"]),L=["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"],A=["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrze\u015bnia","Pa\u017adziernika","Listopada","Grudnia"],M=["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],R=[{name:"Pocz\u0105tkuj\u0105cy/a",min:0},{name:"\u015arednio zaawansowany/a",min:10},{name:"Zaawansowany",min:50},{name:"Ekspert",min:100}],B=function(e){var a=e.name,t=new Date,n=A,c="".concat(L[t.getDay()],", ").concat(t.getDate()," ").concat(n[t.getMonth()]," ").concat(t.getFullYear());return r.a.createElement("section",{className:"greetings"},r.a.createElement("h1",{className:"greetings__name"},"Cze\u015b\u0107 ",a||r.a.createElement(v.b,{className:"greetings__link",to:"settings"},"nieznajomy")," !"),r.a.createElement("span",{className:"greetings__date"},c))},V=(t(85),function(e){var a=e.name,t=e.surname;return r.a.createElement("div",{className:"my-profile-name"},r.a.createElement("span",{className:"my-profile-name__text"},"M\xf3j profil"),r.a.createElement("div",{className:"my-profile-name__div-initials"},r.a.createElement("span",{className:"my-profile-name__initials"},a&&t?"".concat(a[0].toUpperCase()).concat(t[0].toUpperCase()):r.a.createElement(v.b,{className:"my-profile-name__link",to:"settings"},"?"))),r.a.createElement("span",{className:"my-profile-name__name"},a&&t?"".concat(a," ").concat(t):r.a.createElement(v.b,{className:"my-profile-name__link",to:"settings"},"-")))}),W=(t(86),function(e){var a=e.currentUser,t=e.handleFlipCard,c=Object(n.useState)(0),i=Object(s.a)(c,2),l=i[0],o=i[1],u=function(e){o(e.numChildren())},d=l>=R[3].min?R[3].name:l>=R[2].min?R[2].name:l>=R[1].min?R[1].name:R[0].name;return Object(n.useEffect)((function(){var e=m.a.database().ref("users/".concat(a.uid,"/trainings"));return e.once("value").then(u),function(){e.off("value",u)}}),[a.uid]),r.a.createElement("span",{onClick:t,className:"my-profile-rank"},d)}),P=(t(87),function(e){var a=e.handleFlipCard;return r.a.createElement("div",{className:"rank"},r.a.createElement(j,{onClick:a},r.a.createElement(k.a,null)),r.a.createElement("div",{className:"rank__div"},r.a.createElement("h1",{className:"rank__h1"},"Liczba trening\xf3w"),r.a.createElement("div",{className:"rank__div-list"},R.map((function(e){return r.a.createElement("p",{key:e.name,className:"rank__p"},r.a.createElement("span",{className:"rank__span-name"},e.name),r.a.createElement("span",{className:"rank__span-min"},e.min))})))))}),Z=(t(88),function(e){var a=e.name,t=e.surname,c=e.currentUser,i=Object(n.useRef)(null),l=function(){i.current&&i.current.classList.toggle("active-card")};return r.a.createElement("article",{className:"my-profile"},r.a.createElement("div",{ref:i,className:"my-profile__inner "},r.a.createElement("div",{className:"my-profile__front"},r.a.createElement(V,{name:a,surname:t}),r.a.createElement(W,{currentUser:c,handleFlipCard:l})),r.a.createElement("div",{className:"my-profile__back"},r.a.createElement(P,{handleFlipCard:l}))))}),H=(t(89),function(e){var a=e.ingredients,t=a.carbs,n=a.fats,c=a.proteins,i=a.calories,l=Object(f.g)();return r.a.createElement("div",{className:"eaten-calories"},r.a.createElement("span",{className:"eaten-calories__title"},"Dieta"),r.a.createElement("div",{className:"eaten-calories__calories"},t&&r.a.createElement("p",{onClick:function(){return l.push("settings")},className:"eaten-calories__p"},"W\u0119glowodany: ",t),n&&r.a.createElement("p",{onClick:function(){return l.push("settings")},className:"eaten-calories__p"},"T\u0142uszcze: ",n),c&&r.a.createElement("p",{onClick:function(){return l.push("settings")},className:"eaten-calories__p"},"Bia\u0142ko: ",c),i&&r.a.createElement("p",{onClick:function(){return l.push("settings")},className:"eaten-calories__p"},"Kalorie: ",i),!t&&!n&&!c&&!i&&r.a.createElement(v.b,{className:"eaten-calories__a",to:"settings"},"Brak ustawionej diety")))}),K=(t(90),function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"no",n=new Date(e),r=n.getDate()>9?n.getDate():"0"+n.getDate(),c=n.getMonth()+1>9?n.getMonth()+1:"0"+n.getMonth()+1,i=n.getFullYear(),l="yes"===t?"".concat(i).concat(a).concat(c).concat(a).concat(r):"".concat(r).concat(a).concat(c).concat(a).concat(i);return l}),G=function(e,a){var t=new Date(e),n=t.getHours()>9?t.getHours():"0"+t.getHours(),r=t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes();return"".concat(n).concat(a).concat(r)},Y=function(){var e=Object(n.useContext)(F).currentUser,a=Object(n.useState)(),t=Object(s.a)(a,2),c=t[0],i=t[1],l=new Date,o=K(l,"-","yes"),u=function(e){var a=[];e.forEach((function(e){var t=e.val();a.push(t)})),i(a)};return Object(n.useEffect)((function(){if(e){var a=m.a.database().ref("users/"+e.uid+"/trainings").orderByChild("date").startAt(o);return a.on("value",u),function(){a.off("value",u)}}}),[e,o]),r.a.createElement("div",{className:"today-trainings"},r.a.createElement("span",{className:"today-trainings__title"},"Treningi"),c&&0!==c.length?c.map((function(e){return r.a.createElement(v.b,{key:e.id,to:"trainings/".concat(e.id),className:"today-trainings__link"},e.workoutName)})):r.a.createElement("div",{className:"today-trainings__unset"},r.a.createElement(v.b,{className:"today-trainings__a",to:"trainings"},"Brak ustawionych trening\xf3w")))},J=(t(91),function(e){var a=e.ingredients;return r.a.createElement("article",{className:"activities"},r.a.createElement("span",{className:"activities__title"},"Dzisiaj"),r.a.createElement(H,{ingredients:a}),r.a.createElement(Y,null))}),X=(t(92),function(){var e=Object(n.useContext)(F).currentUser,a=Object(n.useState)(),t=Object(s.a)(a,2),c=t[0],i=t[1],l=function(e){var a=[];e.forEach((function(e){var t=e.child("settings/user/name").val(),n=e.child("settings/user/surname").val();if(t&&n){var r=e.child("trainings").numChildren();a.push({name:t,surname:n,numberOfTrainings:r})}})),a.sort((function(e,a){return a.numberOfTrainings-e.numberOfTrainings})),i(a.slice(0,10))};return Object(n.useEffect)((function(){if(e){var a=m.a.database().ref("users");return a.on("value",l),function(){a.off("value",l)}}}),[e]),r.a.createElement("section",{className:"table-results"},r.a.createElement("h2",{className:"table-results__h2"},"Statystyki"),r.a.createElement("table",{className:"table-results__table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-results__tr"},r.a.createElement("th",{className:"table-results__th"},"Miejsce"),r.a.createElement("th",{className:"table-results__th"},"Imi\u0119"),r.a.createElement("th",{className:"table-results__th"},"Nazwisko"),r.a.createElement("th",{className:"table-results__th"},"Liczba trening\xf3w"))),r.a.createElement("tbody",null,c&&c.map((function(e,a){return r.a.createElement("tr",{className:"table-results__tr",key:"".concat(e.name,"/").concat(e.surname,"/").concat(e.numberOfTrainings)},r.a.createElement("td",{className:"table-results__td"},a+1),r.a.createElement("td",{className:"table-results__td"},e.name),r.a.createElement("td",{className:"table-results__td"},e.surname),r.a.createElement("td",{className:"table-results__td"},e.numberOfTrainings))})))),r.a.createElement("span",{className:"table-results__span"}))}),q=(t(93),function(){var e=Object(n.useContext)(F).currentUser,a=Object(n.useState)(),t=Object(s.a)(a,2),c=t[0],i=t[1],l=function(e){i({name:e.child("user/name").val(),surname:e.child("user/surname").val(),ingredients:{carbs:e.child("diet/carbs").val(),fats:e.child("diet/fats").val(),proteins:e.child("diet/proteins").val(),calories:e.child("diet/calories").val()}})};return Object(n.useEffect)((function(){if(e){var a=m.a.database().ref("users/"+e.uid+"/settings");return a.on("value",l),function(){a.off("value",l)}}}),[e]),r.a.createElement(r.a.Fragment,null,e&&c?r.a.createElement("main",{className:"logged-home"},r.a.createElement(B,{name:c.name}),r.a.createElement("section",{className:"logged-home__profile"},r.a.createElement(Z,{name:c.name,surname:c.surname,currentUser:e}),r.a.createElement(J,{ingredients:c.ingredients})),r.a.createElement(X,null)):r.a.createElement(E,null))}),Q=(t(94),t(95),function(){var e=Object(f.g)();return r.a.createElement("section",{className:"background-image"},r.a.createElement("div",{className:"background-image__div"},r.a.createElement("h1",{className:"background-image__h1"},"To do workout"),r.a.createElement("p",{className:"background-image__p"},"Wejd\u017a na wy\u017cszy poziom trenowania!"),r.a.createElement(j,{onClick:function(){e.push("/login")}},"Zarejestruj si\u0119")))}),$=(t(96),t(97),function(e){var a=e.icon,t=e.title,n=e.text;return r.a.createElement("div",{className:"feature"},r.a.createElement("div",{className:"feature__div"},a),r.a.createElement("h3",{className:"feature__title"},t),r.a.createElement("p",{className:"feature__p"},n))}),ee=t(42),ae=t(43),te=t(44),ne=t(14),re=function(){return r.a.createElement("section",{className:"features"},r.a.createElement("h2",{className:"features__title"},"Mo\u017cliwo\u015bci"),r.a.createElement($,{icon:r.a.createElement(ee.a,null),title:"Plan treningowy",text:"Zaprojektuj zestaw \u0107wicze\u0144 do swojej aktualnej formy i pozwoli osi\u0105gn\u0105\u0107\r wymarzon\u0105 sylwetk\u0119 oraz zadba\u0107 o zdrowie."}),r.a.createElement($,{icon:r.a.createElement(ae.a,null),title:"Zaplanuj diete",text:"Prawid\u0142owa dieta jest kluczowa dla zdrowia, kondycji i \u015bwietnego samopoczucia."}),r.a.createElement($,{icon:r.a.createElement(te.a,null),title:"Motywacja",text:"W osi\u0105gni\u0119ciu sukcesu najwa\u017cniejsze jest to, co dzieje si\u0119 w g\u0142owie. Trenuj regularnie i patrz jak ro\u015bnie Twoja pozycja w rankingu."}),r.a.createElement($,{icon:r.a.createElement(ne.b,null),title:"Monitorowanie rozwoju ciala",text:"Wykresy to najlepszy przyjaciel sportowca. Dzi\u0119ki aplikacji mo\u017cesz \u015bled\u017a\r przyrost swojej si\u0142y!"}))},ce=(t(98),function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1],i=t.length,l=Object(n.useState)(0),o=Object(s.a)(l,2),u=o[0],d=o[1];Object(n.useEffect)((function(){if(i>1){var e=setInterval((function(){d((function(e){return e===i-1?0:e+1}))}),1e4);return function(){return clearInterval(e)}}}),[u,i]);var f=function(e){i>1&&("left"===e?d((function(e){return 0===e?i-1:e-1})):"right"===e&&d((function(e){return e===i-1?0:e+1})))},b=function(e){var a=[];e.forEach((function(e){a.push(e.child("opinion").val())})),c(a)};return Object(n.useEffect)((function(){var e=m.a.database().ref("app/data/form").limitToLast(3);return e.on("value",b),function(){e.off("value",b)}}),[]),r.a.createElement("section",{className:"feedback"},r.a.createElement("h2",{className:"feedback__title"},"Naj\u015bwie\u017csze opinie"),r.a.createElement("div",{className:"feedback__opinions"},r.a.createElement("span",{onClick:function(){return f("left")},className:"feedback__left"},r.a.createElement(k.a,null)),r.a.createElement("p",{className:"feedback__p"},i>0?t[u]:"Brak"),r.a.createElement("span",{onClick:function(){return f("right")},className:"feedback__right"},r.a.createElement(k.a,null))))}),ie=(t(99),t(131)),le=function(){var e,a,t=Object(ie.a)(["sendForm"]),c=Object(s.a)(t,2),i=c[0],l=c[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),d=u[0],f=u[1],b={fields:[{name:"name",validate:z(O("To pole jest wymagane!")),initialValue:void 0,text:"Twoje imi\u0119",placeholder:"Twoje imi\u0119",type:"text"},{name:"surname",validate:z(O("To pole jest wymagane!")),initialValue:void 0,text:"Twoje nazwisko",placeholder:"Twoje nazwisko",type:"text"},{name:"opinion",validate:z(O("To pole jest wymagane!"),(e=10,a="Tekst musi mie\u0107 conajmniej 10 znak\xf3w",function(t){return isNaN(t.length)||t.length>=e?void 0:a}),x(400,"Tekst nie mo\u017ce by\u0107 d\u0142u\u017cszy ni\u017c 400 znak\xf3w")),initialValue:void 0,text:"Twoja opinia",placeholder:"Twoja opinia...",component:"textarea",type:"text"}],button:{text:"Wy\u015blij"}};return r.a.createElement("section",{className:"send-message"},"formularz wys\u0142any"===i.sendForm?r.a.createElement("p",{className:"send-message__sent"},"formularz wys\u0142any"===i.sendForm&&d?"Dzi\u0119ki za opini\u0119!":"Formularz zosta\u0142 ju\u017c wys\u0142any!"):r.a.createElement(N,{formFields:b,handleSubmit:function(e){var a=new Date,t=new Date(a).getFullYear(),n=new Date(a).getMonth(),r=a.getDate(),c=new Date(t,n,r+14),i=K(new Date(a),"-","yes")+"T"+G(new Date(a),":");m.a.database().ref("app/data/form").push().set({name:e.name,surname:e.surname,opinion:e.opinion,date:i}),l("sendForm","formularz wys\u0142any",{expires:c}),f(!0)}}))},se=(t(100),function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"footer__info"},r.a.createElement("h2",{className:"footer__h2"},"To do workout"),r.a.createElement("p",{className:"footer__text"},"Aplikacji umo\u017cliwiaj\u0105cy \u0142atwiejsze zarz\u0105dzanie swoimi treningami, projekt w ci\u0105g\u0142ym rozwoju.")),r.a.createElement("p",{className:"footer__rights"},"\xa9 2020 All Rights Reserved"))}),oe=function(){return r.a.createElement("main",{className:"home"},r.a.createElement(Q,null),r.a.createElement(re,null),r.a.createElement(ce,null),r.a.createElement(le,null),r.a.createElement(se,null))},me=function(){var e=Object(n.useContext)(F).currentUser;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(q,null):r.a.createElement(oe,null))},ue=(t(101),t(102),function(e){var a=e.trainings,t=Object(f.g)();return r.a.createElement("ul",{className:"list-items"},a.map((function(e){var a=new Date(e.date),n="".concat(K(a,"/")),c=0;return e.exercises&&(c=Object.keys(e.exercises).length),r.a.createElement("li",{onClick:function(){return function(e){t.push("/trainings/".concat(e.id))}(e)},key:e.id,className:"list-items__li"},r.a.createElement("span",{className:"list-items__name"},e.workoutName),r.a.createElement("span",{className:"list-items__date"},n),r.a.createElement("span",{className:"list-items__count"},c))})).reverse())}),de=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1],i=Object(n.useContext)(F).currentUser,l=Object(n.useState)(!1),o=Object(s.a)(l,2),u=o[0],d=o[1],f=function(e){var a=[];e.forEach((function(e){var t=e.val();a.push(t)})),c(a),d(!0)};return Object(n.useEffect)((function(){if(i){var e=m.a.database().ref("users/"+i.uid+"/trainings").orderByChild("date");return e.on("value",f),function(){e.off("value",f)}}}),[i]),r.a.createElement("section",{className:"trainings__list"},r.a.createElement("h2",{className:"trainings__h2"},"Treningi"),u?r.a.createElement(ue,{trainings:t}):r.a.createElement(E,null))},fe=function(){var e=Object(n.useContext)(F).currentUser,a=Object(f.g)(),t=new Date,c="".concat(K(t,"-","yes"),"T").concat(G(t,":")),i={fields:[{name:"date",validate:z(O("To pole jest wymagane!")),initialValue:c,text:"Data treningu",placeholder:"Data treningu",type:"datetime-local",max:c},{name:"workoutName",validate:z(O("To pole jest wymagane!"),x(40,"Nazwa treningu maksymalnie mo\u017ce mie\u0107 40 znak\xf3w")),initialValue:void 0,text:"Nazwa treningu",placeholder:"Nazwa treningu"}],button:{text:"Dodaj trening"}};return r.a.createElement("section",{className:"add-training"},r.a.createElement(N,{formFields:i,handleSubmit:function(t){var n=t.date.replace(/-/g,"").replace(/T/g,"").replace(/:/g,"");e&&(!function(e,a,t,n){m.a.database().ref("users/"+e+"/trainings/"+a).set({id:a,date:t,workoutName:n})}(e.uid,n,t.date,t.workoutName),a.push("/trainings/".concat(n)))}}))},be=(t(103),function(){return r.a.createElement("main",{className:"trainings"},r.a.createElement(fe,null),r.a.createElement(de,null))}),Ee=m.a.initializeApp({apiKey:"AIzaSyAkx7U5xHRytqTxEvWcAeBafAnn0RxvCGE",authDomain:"workout-app-react.firebaseapp.com",databaseURL:"https://workout-app-react.firebaseio.com",projectId:"workout-app-react",storageBucket:"workout-app-react.appspot.com",messagingSenderId:"525427559623",appId:"1:525427559623:web:086662897279ef7ca942e2",measurementId:"G-LRVXXWQ6R2"}),ge=(t(104),function(e){var a=e.exercises,t=e.id,n=Object(f.g)();return r.a.createElement("ul",{className:"training-exercise-list__ul"},a.map((function(e){var a;return r.a.createElement("li",{key:e.key,onClick:function(){return function(e,a){n.push({pathname:"/trainings/".concat(t,"/").concat(e),state:{exerciseName:a}})}(e.key,e.workoutName)},className:"training-exercise-list__exercise"},r.a.createElement("span",{className:"training-exercise-list__workout-name"},e.workoutName),r.a.createElement("div",{className:"training-exercise-list__series-div"},null===(a=e.series)||void 0===a?void 0:a.map((function(a,t){if(t%2===0&&e.series){var n="".concat(e.series[t],":").concat(e.series[t+1]);return r.a.createElement("span",{key:t,className:"training-exercise-list__series"},n)}}))))})))}),ve=t(27),pe=(t(105),function(e){var a=e.exercises,t=(e.id,e.refUrl),c=Object(n.useState)(a.map((function(e,a){return{id:"".concat(a+1),content:e.workoutName,key:e.key}}))),i=Object(s.a)(c,2),l=i[0],o=i[1];return r.a.createElement(ve.a,{onDragEnd:function(e){if(e.destination){var a=function(e,a,t){var n=Array.from(e),r=n.splice(a,1),c=Object(s.a)(r,1)[0];return n.splice(t,0,c),n}(l,e.source.index,e.destination.index);o(a),m.a.database().ref(t).set({}),a.forEach((function(e){m.a.database().ref(t).push().set({workoutName:e.content})}))}}},r.a.createElement(ve.c,{droppableId:"droppable"},(function(e,a){return r.a.createElement("div",Object.assign({className:"list"},e.droppableProps,{ref:e.innerRef}),l.map((function(e,a){return r.a.createElement(ve.b,{key:e.id,draggableId:e.id,index:a},(function(a,t){return r.a.createElement("div",Object.assign({className:"list__item",ref:a.innerRef},a.draggableProps,a.dragHandleProps),e.content)}))})),e.placeholder)})))}),_e=function(e){var a=e.exercises,t=e.id,c=Object(n.useContext)(F).currentUser,i={fields:[{name:"workoutName",validate:z(O("To pole jest wymagane!"),x(60,"Nazwa treningu maksymalnie mo\u017ce mie\u0107 60 znak\xf3w")),initialValue:void 0,text:"Nowe \u0107wiczenie",placeholder:"Nowe \u0107wiczenie"}],button:{text:"Dodaj \u0107wiczenie"}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{formFields:i,handleSubmit:function(e){c&&(m.a.database().ref("users/".concat(c.uid,"/trainings/").concat(t)).child("exercises").push().set({workoutName:e.workoutName}),e.workoutName="")}}),r.a.createElement(ge,{exercises:a,id:t}))},he=(t(107),function(e){var a=e.match,t=Object(f.g)(),c=a.params.id,i=Object(n.useContext)(F).currentUser,l=Object(n.useState)(!1),o=Object(s.a)(l,2),u=o[0],d=o[1],b=Object(n.useState)(),E=Object(s.a)(b,2),g=E[0],v=E[1],p=function(e){var a=[];e.forEach((function(e){var t=e.val(),n=t.series,r=t.workoutName,c=e.key;a.push({workoutName:r,key:c,series:n})})),v(a)};return Object(n.useEffect)((function(){if(i){var e=Ee.database().ref("users/".concat(i.uid,"/trainings/").concat(c));return e.child("exercises").on("value",p),function(){e.child("exercises").off("value",p)}}}),[i,c]),r.a.createElement("main",{className:"training"},r.a.createElement(S,{handleEdit:function(){i&&(m.a.database().ref("users/".concat(i.uid,"/trainings/").concat(c)).remove(),t.goBack())},editTitle:"Usu\u0144 trening"}),r.a.createElement("section",{className:"training__add-exercise"},i&&r.a.createElement(C,{labelText:"Nazwa treningu",editDate:!0,refUrl:"users/".concat(i.uid,"/trainings/").concat(c),isActiveEditing:u,setIsActiveEditing:d}),u&&i?r.a.createElement(pe,{exercises:g,id:c,refUrl:"users/".concat(i.uid,"/trainings/").concat(c,"/exercises")}):g&&r.a.createElement(_e,{exercises:g,id:c})))}),Ne=(t(108),t(109),function(){return Math.random().toString(36).substr(2,9)+Math.random().toString(36).substr(2,9)+Math.random().toString(36).substr(2,9)}),je=function(e){var a=e.fields,t=e.button,n=e.setFormFields;return r.a.createElement("div",{onClick:function(){a.push({name:"exerciseWeight".concat(Ne()),validate:z(O("To pole jest wymagane!")),initialValue:void 0,text:"Ci\u0119\u017car (kg)",placeholder:"Ci\u0119\u017car (kg)"},{name:"exerciseRepeat".concat(Ne()),validate:z(O("To pole jest wymagane!")),initialValue:void 0,text:"Liczba powt\xf3rze\u0144",placeholder:"Liczba powt\xf3rze\u0144"}),n({fields:a,button:t})},className:"exercise__line"},r.a.createElement("div",{className:"exercise__check"},"+"))},ke=(t(110),function(e){var a=e.index,t=e.handleRemoveSeries;return r.a.createElement("div",{className:"remove-series"},r.a.createElement("button",{onClick:function(){return t(a)},type:"button",className:"remove-series__button"},"Usu\u0144 seri\u0119"))}),ye=(t(111),function(e){var a=e.index;return r.a.createElement(r.a.Fragment,null,a%2===0&&r.a.createElement("p",{className:"series-number"},"Seria ",a/2+1))}),we=function(e){var a=e.formFields,t=a.fields,c=a.button,i=e.setFormFields,s=e.id,o=e.paramId,u=Object(n.useContext)(F).currentUser,d=function(e){t.splice(e-1,2),i({fields:t,button:c})};return r.a.createElement(h.b,{onSubmit:function(e){var a=[];if(t.forEach((function(t){a.push(e[t.name])})),u){var n="users/".concat(u.uid,"/trainings/").concat(s,"/exercises/").concat(o);m.a.database().ref(n).child("series").set(a),Object(l.b)("Zaktualizowano \u0107wiczenie")}}},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:"form"},t.map((function(e,a){return r.a.createElement(h.a,{key:e.name,name:e.name,validate:e.validate,defaultValue:e.initialValue,parse:e.parse},(function(t){var n=t.input,c=t.meta;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,{index:a}),r.a.createElement("div",{className:"form__wrapper"},r.a.createElement("label",{className:"form__label"},e.text),r.a.createElement("input",Object.assign({className:"form__input"},n,{type:"number",step:"1",min:"0",placeholder:e.placeholder})),c.error&&c.touched&&r.a.createElement("span",{className:"form__span"},c.error)),a%2===1&&r.a.createElement(ke,{index:a,handleRemoveSeries:d}))}))})),r.a.createElement(je,{fields:t,button:c,setFormFields:i}),r.a.createElement("button",{className:"form__button"},c.text))}))},Oe=(t(112),function(e){var a=Object(f.g)(),t=Object(n.useContext)(F).currentUser,c=e.match.url.replace("/trainings/","").replace("/"+e.match.params.id,""),i=Object(n.useState)(!1),l=Object(s.a)(i,2),o=l[0],u=l[1],d=Object(n.useState)({fields:[{name:"exerciseWeight",validate:z(O("To pole jest wymagane!")),initialValue:void 0,text:"Ci\u0119\u017car (kg)",placeholder:"Ci\u0119\u017car (kg)"},{name:"exerciseRepeat",validate:z(O("To pole jest wymagane!")),initialValue:void 0,text:"Liczba powt\xf3rze\u0144",placeholder:"Liczba powt\xf3rze\u0144"}],button:{type:"submit",text:"Zapisz"}}),b=Object(s.a)(d,2),E=b[0],g=b[1],v=function(e){if(e){var a=[];e.forEach((function(e){var t=a.length%2===0?"Ci\u0119\u017car (kg)":"Liczba powt\xf3rze\u0144";a.push({name:"".concat(a.length%2===0?"exerciseWeight":"exerciseRepeat").concat(Ne()),validate:z(O("To pole jest wymagane!")),initialValue:e.val(),text:t,placeholder:t})})),a.length>0&&g({fields:a,button:{type:"submit",text:"Zapisz"}})}};return Object(n.useEffect)((function(){if(t){var a=m.a.database().ref("users/".concat(t.uid,"/trainings/").concat(c,"/exercises/").concat(e.match.params.id,"/series"));return a.on("value",v),function(){a.off("value",v)}}}),[t,c,e.match.params.id]),r.a.createElement("main",{className:"exercise"},r.a.createElement(S,{handleEdit:function(){t&&(m.a.database().ref("users/".concat(t.uid,"/trainings/").concat(c,"/exercises/").concat(e.match.params.id)).remove(),a.goBack())},editTitle:"Usu\u0144 \u0107wiczenie"}),r.a.createElement("section",{className:"exercise__add-series"},t&&r.a.createElement(C,{labelText:"Nazwa \u0107wiczenia",editDate:!1,refUrl:"users/".concat(t.uid,"/trainings/").concat(c,"/exercises/").concat(e.match.params.id),isActiveEditing:o,setIsActiveEditing:u}),!o&&r.a.createElement(we,{formFields:E,setFormFields:g,id:c,paramId:e.match.params.id})))}),xe=function(e){var a=e.trainings,t=M,n=[0,0,0,0,0,0,0,0,0,0,0,0];a.forEach((function(e){n[new Date(e.date).getMonth()]+=1}));var c={type:"bar",data:{labels:t,datasets:[{minBarLength:1,data:n,backgroundColor:function(e){return e.dataIndex%2?"rgba(102, 252, 241, 1)":"rgba(197, 198, 199, 1)"}}]},options:{title:{display:!0,text:"Liczba trening\xf3w w roku"},legend:{display:!1,labels:{},position:"right"},scales:{yAxes:[{ticks:{lineHeight:2,beginAtZero:!0,callback:function(e){if(Number.isInteger(e))return e}}}]}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{specification:c}," "))},ze=function(e){var a=e.trainings,t={name:[],amount:[]};a.forEach((function(e){var a=t.name.findIndex((function(a){return a===e.workoutName}));-1!==a?++t.amount[a]:(t.name.push(e.workoutName),t.amount.push(1))}));var n={type:"pie",data:{labels:t.name,datasets:[{data:t.amount,backgroundColor:["rgba(102, 252, 241, 1)","rgba(197, 198, 199, 1)","rgba(230, 25, 75, 1)","rgba(245, 130, 48, 1)","rgba(255, 225, 25, 1)","rgba(210, 245,60, 1)","rgba(60, 180, 75, 1)","rgba(70, 240, 75, 1)","rgba(0, 130, 200, 1)","rgba(0, 0, 128, 1)","rgba(145, 30, 180, 1)","rgba(240, 30, 180, 1)","rgba(128, 128, 128, 1)","rgba(0, 0, 0, 1)"],borderColor:["rgba(102, 252, 241, 0.8)","rgba(197, 198, 199, 0.8)","rgba(230, 25, 75, 0.8)","rgba(245, 130, 48, 0.8)","rgba(255, 225, 25, 0.8)","rgba(210, 245,60,0.8)","rgba(60, 180, 75, 0.8)","rgba(70, 240, 75,0.8)","rgba(0, 130, 200,0.8)","rgba(0, 0, 128, 0.8)","rgba(145, 30, 180, 0.8)","rgba(240, 30, 180, 0.8)","rgba(128, 128, 128, 0.8)","rgba(0, 0, 0, 0.8)"],hoverBackgroundColor:["rgba(102, 252, 241, 0.8)","rgba(197, 198, 199, 0.8)","rgba(230, 25, 75, 0.8)","rgba(245, 130, 48, 0.8)","rgba(255, 225, 25, 0.8)","rgba(210, 245,60, 0.8)","rgba(60, 180, 75, 0.8)","rgba(70, 240, 75, 0.8)","rgba(0, 130, 200, 0.8)","rgba(0, 0, 128, 0.8)","rgba(145, 30, 180, 0.8)","rgba(240, 30, 180, 0.8)","rgba(128, 128, 128, 0.8)","rgba(0, 0, 0, 0.8)"],hoverBorderWidth:2}]}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{specification:n}," "))},Ce=(t(113),function(e){var a=e.trainings,t=[];a.forEach((function(e){t.includes(e.workoutName)||t.push(e.workoutName)}));var c=Object(n.useState)(t[0]),i=Object(s.a)(c,2),l=i[0],o=i[1],m=a.filter((function(e){return e.workoutName===l})),u={date:[],amount:[]};m.forEach((function(e){var a=0;if(e.exercises)for(var t=0,n=Object.entries(e.exercises);t<n.length;t++){var r=Object(s.a)(n[t],2)[1];if(r.series){for(var c=[],i=0,l=Object.entries(r.series);i<l.length;i++){var o=Object(s.a)(l[i],2)[1];c.push(o)}for(var m=0;m<c.length;m+=2)a+=Number(c[m])*Number(c[m+1])}}var d=new Date(e.date),f="".concat(K(d,"/"));u.date.push(f),u.amount.push(a)}));var d={type:"line",data:{labels:u.date,datasets:[{data:u.amount,fill:"false",borderColor:"rgba(102, 252, 241, 1)",backgroundColor:"rgba(102, 252, 241, 1)"}]},options:{title:{display:!0,text:"Liczba podniesionych kg"},legend:{display:!1,labels:{},position:"right"},scales:{yAxes:[{ticks:{lineHeight:2,beginAtZero:!0}}]}}};return r.a.createElement("div",{className:"weight-chart"},r.a.createElement("label",{className:"weight-chart__label"},"Wybierz nazwe treningu"),r.a.createElement("select",{onChange:function(e){o(e.target.value)},className:"weight-chart__select"},t.map((function(e,a){return r.a.createElement("option",{key:a,value:e},e)}))),r.a.createElement(D,{specification:d}," "))}),Se=function(e){var a=e.trainings;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{trainings:a}),r.a.createElement(ze,{trainings:a}),r.a.createElement(Ce,{trainings:a}))},Te=(t(114),function(){var e=Object(n.useContext)(F).currentUser,a=Object(n.useState)(),t=Object(s.a)(a,2),c=t[0],i=t[1],l=function(e){var a=[];e.forEach((function(e){a.push(e.val())})),i(a)};return Object(n.useEffect)((function(){if(e){var a=m.a.database().ref("users/".concat(e.uid,"/trainings"));return a.once("value",l),function(){a.off("value",l)}}}),[e]),r.a.createElement("main",{className:"statistics"},c?r.a.createElement(Se,{trainings:c}):r.a.createElement(E,null))}),De=t(11),Fe=(t(115),function(e){var a=e.type,t=Object(n.useState)(""),c=Object(s.a)(t,2),i=c[0],l=c[1];return[i,r.a.createElement("input",{value:i,onChange:function(e){return l(e.target.value)},type:a,min:0})]}),Ue=(t(116),t(117),function(e){var a=e.title,t=e.nutrients,r=e.index;return n.createElement(n.Fragment,null,n.createElement("div",{className:"diet-nutrient"},n.createElement("p",{className:"diet-nutrient__title"},a),n.createElement("p",{className:"diet-nutrient__amount"},t[r])))}),Ie=(t(118),function(e){var a=e.date,t=e.carbs,n=e.fats,c=e.proteins,i=e.calories,l=Object(f.g)(),s=I,o=[t,n,c,i],m=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"no",n=e.slice(6,8),r=e.slice(4,6),c=e.slice(0,4),i="yes"===t?"".concat(c).concat(a).concat(r).concat(a).concat(n):"".concat(n).concat(a).concat(r).concat(a).concat(c);return i}(a,"/");return r.a.createElement("div",{onClick:function(){return function(e){l.push("diet/".concat(e))}(a)},className:"diet-element",key:a},r.a.createElement("div",{className:"diet-element__date"},m),r.a.createElement("div",{className:"diet-element__nutrients"},s.map((function(e,a){return r.a.createElement(Ue,{key:e,title:e,nutrients:o,index:a})}))))}),Le=function(e){var a=e.diets;return r.a.createElement(r.a.Fragment,null,a.map((function(e){var a=0,t=0,n=0,c=0;return e.meal&&e.meal.forEach((function(e){e.list&&e.list.forEach((function(e){a+=e.carbs,t+=e.fats,n+=e.proteins,c+=e.calories}))})),r.a.createElement(Ie,{key:e.date,date:e.date,carbs:a,fats:t,proteins:n,calories:c})})).reverse())},Ae=(t(119),function(){var e=Object(f.g)(),a=Object(n.useContext)(F).currentUser,t=Object(n.useState)([]),c=Object(s.a)(t,2),i=c[0],l=c[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),d=u[0],b=u[1],g=Object(n.useState)(!1),v=Object(s.a)(g,2),p=v[0],_=v[1],h=function(e){var a=[];e.forEach((function(e){var t=e.val();a.push(t)})),l(a),_(!0)};return Object(n.useEffect)((function(){if(a){var e=m.a.database().ref("users/"+a.uid+"/diet").orderByChild("date");return e.on("value",h),function(){e.off("value",h)}}}),[a]),r.a.createElement("main",{className:"diet"},r.a.createElement("div",{className:"diet__div"},r.a.createElement(j,{onClick:function(){var t,n,r=new Date,c=K(r,"","yes"),l=!0;if(i.forEach((function(e){c===e.date&&(l=!1,b(!0))})),l){a&&(t=a.uid,n=c,m.a.database().ref("users/"+t+"/diet/"+n).set({date:n}),e.push("/diet/".concat(c)))}}},"Dodaj diete"),d&&r.a.createElement("span",{className:"diet__span"},"Dzisiejsza dieta jest ju\u017c dodana")),p?r.a.createElement(Le,{diets:i}):r.a.createElement(E,null))}),Me=(t(120),function(e){var a=e.meal,t=e.item,c=e.index,i=e.indexList,l=e.id,s=Object(n.useContext)(F).currentUser;return r.a.createElement("tr",null,r.a.createElement("td",{className:"meal-table__td"},t.ingredient),r.a.createElement("td",{className:"meal-table__td"},t.carbs),r.a.createElement("td",{className:"meal-table__td"},t.fats),r.a.createElement("td",{className:"meal-table__td"},t.proteins),r.a.createElement("td",{className:"meal-table__td"},t.calories),r.a.createElement("td",{className:"meal-table__td"},r.a.createElement(k.b,{onClick:function(){return function(e){if(s){var t=a.list.filter((function(a,t){return t!==e}));m.a.database().ref("users/".concat(s.uid,"/diet/").concat(l,"/meal/").concat(i,"/list")).set(Object(De.a)(t))}}(c)},className:"meal-table__remove"})))}),Re=function(e){var a=e.meal,t=e.titles,n=[0,0,0,0];return a.list&&a.list.forEach((function(e){n[0]+=e.carbs,n[1]+=e.fats,n[2]+=e.proteins,n[3]+=e.calories})),r.a.createElement(r.a.Fragment,null,n.map((function(e,a){return r.a.createElement("td",{key:t[a],className:"meal-table__td"},e)})))},Be=function(e){var a,t=e.setActiveMeal,n=e.mealList,c=e.currentUserId,i=e.id,l=e.indexList,o=Fe({type:"text"}),u=Object(s.a)(o,2),d=u[0],f=u[1],b=Fe({type:"number"}),E=Object(s.a)(b,2),g=E[0],v=E[1],p=Fe({type:"number"}),_=Object(s.a)(p,2),h=_[0],N=_[1],j=Fe({type:"number"}),y=Object(s.a)(j,2),w=y[0],O=y[1],x=Fe({type:"number"}),z=Object(s.a)(x,2),C=z[0],S=z[1];n&&(a=-1!==n.findIndex((function(e){return e.ingredient===String(d)})));var T="string"===typeof d&&d.length>=40;return r.a.createElement("tr",{className:"meal-table__tr"},r.a.createElement("td",{className:"meal-table__td"},f,r.a.createElement("span",{className:"meal-table__span"},a&&"Podana nazwa jest zaj\u0119ta"," ",T&&"Maksymalna d\u0142ugo\u015b\u0107 to 40 znak\xf3w")),r.a.createElement("td",{className:"meal-table__td"},v),r.a.createElement("td",{className:"meal-table__td"},N),r.a.createElement("td",{className:"meal-table__td"},O),r.a.createElement("td",{className:"meal-table__td"},S),r.a.createElement("td",{className:"meal-table__td"},r.a.createElement("span",null,""===d||""===g||""===h||""===w||""===C||a||T?r.a.createElement(k.b,{onClick:function(){return t(!1)},className:"meal-table__remove"}):r.a.createElement(ne.c,{className:"meal-table__save",onClick:function(){return function(){var e={ingredient:String(d),carbs:Number(g),fats:Number(h),proteins:Number(w),calories:Number(C)};if(c){var a=[];a=n?[].concat(Object(De.a)(n),[e]):[e],m.a.database().ref("users/".concat(c,"/diet/").concat(i,"/meal/").concat(l,"/list")).set(a),t(!1)}}()}}))))},Ve=(t(121),function(e){var a=e.meals,t=e.meal,c=e.indexList,i=e.id,l=Object(n.useContext)(F).currentUser,o=Object(n.useState)(!1),u=Object(s.a)(o,2),d=u[0],f=u[1],b=I;return r.a.createElement("table",{key:t.mealName,className:"meal-table"},r.a.createElement("thead",{className:"meal-table__thead"},r.a.createElement("tr",{className:"meal-table__tr"},r.a.createElement("th",{className:"meal-table__th"},t.mealName),b.map((function(e){return r.a.createElement("th",{key:e,className:"meal-table__th"},e)})),r.a.createElement("th",{className:"meal-table__th"},r.a.createElement(ne.a,{onClick:function(){return function(e){if(l){var t=a.filter((function(a){return a.mealName!==e}));m.a.database().ref("users/".concat(l.uid,"/diet/").concat(i,"/meal")).set(Object(De.a)(t))}}(t.mealName)}})))),r.a.createElement("tbody",{className:"meal-table__tbody"},t.list&&t.list.map((function(e,a){return r.a.createElement(Me,{key:e.ingredient,meal:t,item:e,index:a,indexList:c,id:i})})),d&&l&&r.a.createElement(Be,{setActiveMeal:f,mealList:t.list,currentUserId:l.uid,id:i,indexList:c}),r.a.createElement("tr",{className:"meal-table__tr"},r.a.createElement("td",{className:"meal-table__td"},r.a.createElement(j,{onClick:function(){f(!0)}},"Dodaj")),r.a.createElement(Re,{meal:t,titles:b}),r.a.createElement("td",{className:"meal-table__td"}))))}),We=function(e){var a=e.meals,t=e.id;return r.a.createElement(r.a.Fragment,null,a&&a.map((function(e,n){return r.a.createElement(Ve,{key:e.mealName,meals:a,meal:e,indexList:n,id:t})})))},Pe=function(e){var a=e.meals,t=e.setActiveMeal,c=e.currentUserId,i=e.id,l=Object(n.useRef)(null),o=Object(n.useState)(""),u=Object(s.a)(o,2),d=u[0],f=u[1],b=I,E=d.length>=20;return Object(n.useEffect)((function(){l.current&&l.current.focus()}),[]),r.a.createElement("table",{key:"add-meal",className:"meal-table"},r.a.createElement("thead",{className:"meal-table__thead"},r.a.createElement("tr",{className:"meal-table__tr"},r.a.createElement("th",{className:"meal-table__th"},r.a.createElement("input",{type:"text",value:d,placeholder:"Nazwa",onChange:function(e){return f(e.target.value)},ref:l}),r.a.createElement("span",{className:"meal-table__error"},-1!==a.findIndex((function(e){return e.mealName===d}))&&"Nazwa zaj\u0119ta"," ",E&&"Maksymalna d\u0142ugo\u015b\u0107 to 20 znak\xf3w")),b.map((function(e){return r.a.createElement("th",{key:e,className:"meal-table__th"},e)})),r.a.createElement("th",{className:"meal-table__th"},a&&-1===a.findIndex((function(e){return e.mealName===d}))&&""!==d&&!E?r.a.createElement(ne.c,{className:"meal-table__save-meal",onClick:function(){return c&&(m.a.database().ref("users/".concat(c,"/diet/").concat(i,"/meal")).set([].concat(Object(De.a)(a),[{mealName:d}])),t(!1)),void t(!1)}}):r.a.createElement(ne.a,{onClick:function(){return t(!1)}})))),r.a.createElement("tbody",{className:"meal-table__tbody"}))},Ze=(t(122),function(e){var a=e.sumNutrientsByType,t=e.titles;return r.a.createElement("tr",{className:"meal-summary__tr"},r.a.createElement("td",{className:"meal-summary__td"},"Razem"),a.map((function(e,a){return r.a.createElement("td",{key:t[a],className:"meal-summary__td"},e)})))}),He=function(e){var a=e.titles,t=e.diet;return r.a.createElement("tr",{className:"meal-summary__tr"},r.a.createElement("td",{className:"meal-summary__td"},"Dzienny plan"),a.map((function(e,a){return r.a.createElement("td",{key:e,className:"meal-summary__td"},void 0===t[a]?"-":t[a])})))},Ke=function(e){var a=e.sumNutrientsByType,t=e.diet,n=e.titles;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"meal-summary__tr"},r.a.createElement("td",{className:"meal-summary__td"},"Brakuj\u0105ce"),a.map((function(e,a){var c=void 0===t[a]?"-":e-t[a];return c>=0?r.a.createElement("td",{key:n[a],className:"meal-summary__td meal-summary__above-zero"},c):"-"===c?r.a.createElement("td",{key:n[a],className:"meal-summary__td"},c):r.a.createElement("td",{key:n[a],className:"meal-summary__td meal-summary__below-zero"},c)}))))},Ge=function(e){var a=e.titles;return r.a.createElement("tfoot",{className:"meal-summary__tfoot"},r.a.createElement("tr",{className:"meal-summary__tr"},r.a.createElement("th",{className:"meal-summary__th"}),a.map((function(e){return r.a.createElement("th",{key:e,className:"meal-summary__th"},e)}))))},Ye=function(e){var a=e.meals,t=e.currentUserId,c=[0,0,0,0],i=I,l=Object(n.useState)([0,0,0,0]),o=Object(s.a)(l,2),u=o[0],d=o[1],f=Object(n.useState)(!1),b=Object(s.a)(f,2),E=b[0],g=b[1];a.forEach((function(e){e.list&&e.list.forEach((function(e){c[0]+=e.carbs,c[1]+=e.fats,c[2]+=e.proteins,c[3]+=e.calories}))}));var v=function(e){if(e.val()){var a=e.val(),t=a.carbs,n=a.fats,r=a.proteins,c=a.calories;d([t,n,r,c]),g(!0)}};return Object(n.useEffect)((function(){if(t){var e=m.a.database().ref("users/"+t+"/settings/diet");return e.on("value",v),function(){e.off("value",v)}}}),[t]),r.a.createElement(r.a.Fragment,null,E&&r.a.createElement("table",{className:"meal-summary"},r.a.createElement("tbody",{className:"meal-summary__tbody"},r.a.createElement(Ze,{sumNutrientsByType:c,titles:i}),r.a.createElement(He,{diet:u,titles:i}),r.a.createElement(Ke,{sumNutrientsByType:c,diet:u,titles:i})),r.a.createElement(Ge,{titles:i})))},Je=function(){var e=Object(n.useContext)(F).currentUser,a=Object(f.h)(),t=Object(f.g)(),c=Object(n.useState)([]),i=Object(s.a)(c,2),l=i[0],o=i[1],u=Object(n.useState)(!1),d=Object(s.a)(u,2),b=d[0],g=d[1],v=function(e){var a=[];e.forEach((function(e){var t=e.val();a.push(t)})),o(a)},p=Object(n.useState)(!1),_=Object(s.a)(p,2),h=_[0],N=_[1];Object(n.useEffect)((function(){if(e){var t=m.a.database().ref("users/"+e.uid+"/diet/"+a.id+"/meal");return t.on("value",v),g(!0),function(){t.off("value",v)}}}),[e,a.id]);return r.a.createElement("main",{className:"diet-day"},r.a.createElement(S,{handleEdit:function(){e&&(m.a.database().ref("users/".concat(e.uid,"/diet/").concat(a.id)).remove(),t.goBack())},editTitle:"Usu\u0144 diete"}),b?r.a.createElement("section",{className:"diet-day__section"},r.a.createElement(j,{onClick:function(){return N(!0)}},"Dodaj posi\u0142ek"),r.a.createElement(We,{meals:l,id:a.id}),h&&e&&r.a.createElement(Pe,{meals:l,setActiveMeal:N,currentUserId:e.uid,id:a.id}),0!==l.length&&e&&r.a.createElement(Ye,{meals:l,currentUserId:e.uid})):r.a.createElement(E,null))},Xe=(t(123),t(124),function(e){var a=e.currentUser,t=Object(n.useState)(),c=Object(s.a)(t,2),i=c[0],o=c[1],u=function(e){o({fields:[{name:"name",validate:z(O("To pole jest wymagane!")),initialValue:e.child("name").val(),text:"Imi\u0119",placeholder:"Imi\u0119"},{name:"surname",validate:z(O("To pole jest wymagane!")),initialValue:e.child("surname").val(),text:"Nazwisko",placeholder:"Nazwisko"}],button:{text:"Aktualizuj"}})};Object(n.useEffect)((function(){if(a){var e=m.a.database().ref("users/"+a.uid+"/settings/user");return e.once("value",u),function(){e.off("value",u)}}}),[a]);return r.a.createElement("div",{className:"user"},r.a.createElement("h1",{className:"user__h1"},"Dane"),i?r.a.createElement(N,{formFields:i,handleSubmit:function(e){a&&(m.a.database().ref("users/"+a.uid+"/settings/user").set(e),Object(l.b)("Zaktualizowano dane"))}}):r.a.createElement(E,null))}),qe=(t(125),function(e){var a=e.currentUser,t=Object(n.useState)(),c=Object(s.a)(t,2),i=c[0],o=c[1],u=function(e){o({fields:[{name:"carbs",initialValue:e.child("carbs").val(),text:"W\u0119glowodany",placeholder:"W\u0119glowodany",type:"number",step:"1",min:"0"},{name:"fats",initialValue:e.child("fats").val(),text:"T\u0142uszcze",placeholder:"T\u0142uszcze",type:"number",step:"1",min:"0"},{name:"proteins",initialValue:e.child("proteins").val(),text:"Bia\u0142ko",placeholder:"Bia\u0142ko",type:"number",step:"1",min:"0"},{name:"calories",initialValue:e.child("calories").val(),text:"Kalorie",placeholder:"Kalorie",type:"number",step:"1",min:"0"}],button:{text:"Aktualizuj"}})};Object(n.useEffect)((function(){if(a){var e=m.a.database().ref("users/"+a.uid+"/settings/diet");return e.once("value",u),function(){e.off("value",u)}}}),[a]);return r.a.createElement("div",{className:"diet"},r.a.createElement("h1",{className:"diet__h2"},"Dieta"),i?r.a.createElement(N,{formFields:i,handleSubmit:function(e){for(var t in e)null===e[t]||void 0===e[t]?delete e[t]:e[t]=Number(e[t]);a&&(m.a.database().ref("users/"+a.uid+"/settings/diet").set(e),Object(l.b)("Zaktualizowano diete"))}}):r.a.createElement(E,null))}),Qe=(t(126),function(){var e=Object(n.useContext)(F).currentUser;return r.a.createElement("main",{className:"settings"},e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe,{currentUser:e}),r.a.createElement(qe,{currentUser:e})))}),$e=(t(127),function(){var e=Object(f.g)();return r.a.createElement("main",{className:"not-found"},r.a.createElement("div",{className:"not-found__div"},r.a.createElement("h1",{className:"not-found__p"},"404 - strona nie istnieje"),r.a.createElement(j,{onClick:function(){e.push("/")}},"Przejd\u017a do strony g\u0142\xf3wnej")))}),ea=t(46),aa=function(e){var a=e.component,t=Object(ea.a)(e,["component"]),c=Object(n.useContext)(F).currentUser;return r.a.createElement(f.b,Object.assign({},t,{render:function(e){return c?r.a.createElement(a,e):r.a.createElement(f.a,{to:"/"})}}))},ta=t(132),na=function(){return r.a.createElement(ta.a,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(E,null)},r.a.createElement(U,null,r.a.createElement(v.a,{basename:"/workout-app-react"},r.a.createElement(l.a,null),r.a.createElement(_,null),r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/login"},r.a.createElement(b,null)),r.a.createElement(aa,{path:"/trainings",component:be,exact:!0}),r.a.createElement(aa,{path:"/trainings/:id",component:he,exact:!0}),r.a.createElement(aa,{path:"/trainings/:id/:id",component:Oe,exact:!0}),r.a.createElement(aa,{path:"/statistics",exact:!0,component:Te}),r.a.createElement(aa,{path:"/diet",exact:!0,component:Ae}),r.a.createElement(aa,{path:"/diet/:id",exact:!0,component:Je}),r.a.createElement(aa,{path:"/settings",exact:!0,component:Qe}),r.a.createElement(f.b,{path:"/",exact:!0},r.a.createElement(me,null)),r.a.createElement(f.b,{component:$e}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(na,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[48,1,2]]]);
//# sourceMappingURL=main.8fb91a65.chunk.js.map